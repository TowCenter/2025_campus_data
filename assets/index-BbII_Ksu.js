var Ti=Object.defineProperty;var Li=(t,e,n)=>e in t?Ti(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var it=(t,e,n)=>Li(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function De(){}function si(t){return t()}function Kn(){return Object.create(null)}function Ve(t){t.forEach(si)}function oi(t){return typeof t=="function"}function Fn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pi(t){return Object.keys(t).length===0}function d(t,e){t.appendChild(e)}function P(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function Qe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function Ie(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t){return document.createTextNode(t)}function j(){return R(" ")}function Et(){return R("")}function ae(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function tn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ri(t){return t===""?null:+t}function Ii(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.data!==e&&(t.data=e)}function st(t,e){t.value=e??""}function Tt(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function wt(t,e,n){t.classList.toggle(e,!!n)}class Di{constructor(e=!1){it(this,"is_svg",!1);it(this,"e");it(this,"n");it(this,"t");it(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=Ie(n.nodeName):this.e=b(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)P(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}let Ot;function Rt(t){Ot=t}function Ai(){if(!Ot)throw new Error("Function called outside component initialization");return Ot}function nn(t){Ai().$$.on_mount.push(t)}function Zn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const vt=[],yn=[];let bt=[];const Qn=[],Ri=Promise.resolve();let bn=!1;function Oi(){bn||(bn=!0,Ri.then(ai))}function kn(t){bt.push(t)}const dn=new Set;let mt=0;function ai(){if(mt!==0)return;const t=Ot;do{try{for(;mt<vt.length;){const e=vt[mt];mt++,Rt(e),ji(e.$$)}}catch(e){throw vt.length=0,mt=0,e}for(Rt(null),vt.length=0,mt=0;yn.length;)yn.pop()();for(let e=0;e<bt.length;e+=1){const n=bt[e];dn.has(n)||(dn.add(n),n())}bt.length=0}while(vt.length);for(;Qn.length;)Qn.pop()();bn=!1,dn.clear(),Rt(t)}function ji(t){if(t.fragment!==null){t.update(),Ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(kn)}}function Fi(t){const e=[],n=[];bt.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),bt=e}const $t=new Set;let at;function Hi(){at={r:0,c:[],p:at}}function Wi(){at.r||Ve(at.c),at=at.p}function jt(t,e){t&&t.i&&($t.delete(t),t.i(e))}function ln(t,e,n,l){if(t&&t.o){if($t.has(t))return;$t.add(t),at.c.push(()=>{$t.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function Ne(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ci(t){t&&t.c()}function Hn(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),kn(()=>{const s=t.$$.on_mount.map(si).filter(oi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ve(s),t.$$.on_mount=[]}),i.forEach(kn)}function Wn(t,e){const n=t.$$;n.fragment!==null&&(Fi(n.after_update),Ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zi(t,e){t.$$.dirty[0]===-1&&(vt.push(t),Oi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function zn(t,e,n,l,i,s,o=null,a=[-1]){const m=Ot;Rt(t);const g=t.$$={fragment:null,ctx:[],props:s,update:De,not_equal:i,bound:Kn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:Kn(),dirty:a,skip_bound:!1,root:e.target||m.$$.root};o&&o(g.root);let r=!1;if(g.ctx=n?n(t,e.props||{},(f,c,...u)=>{const p=u.length?u[0]:c;return g.ctx&&i(g.ctx[f],g.ctx[f]=p)&&(!g.skip_bound&&g.bound[f]&&g.bound[f](p),r&&zi(t,f)),c}):[],g.update(),r=!0,Ve(g.before_update),g.fragment=l?l(g.ctx):!1,e.target){if(e.hydrate){const f=Ii(e.target);g.fragment&&g.fragment.l(f),f.forEach(T)}else g.fragment&&g.fragment.c();e.intro&&jt(t.$$.fragment),Hn(t,e.target,e.anchor),ai()}Rt(m)}class Yn{constructor(){it(this,"$$");it(this,"$$set")}$destroy(){Wn(this,1),this.$destroy=De}$on(e,n){if(!oi(n))return De;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Pi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Yi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Yi);function Bi(t){return t}function Gi(t){if(t==null)return Bi;var e,n,l=t.scale[0],i=t.scale[1],s=t.translate[0],o=t.translate[1];return function(a,m){m||(e=n=0);var g=2,r=a.length,f=new Array(r);for(f[0]=(e+=a[0])*l+s,f[1]=(n+=a[1])*i+o;g<r;)f[g]=a[g],++g;return f}}function Ji(t,e){for(var n,l=t.length,i=l-e;i<--l;)n=t[i],t[i++]=t[l],t[l]=n}function Vi(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return $n(t,n)})}:$n(t,e)}function $n(t,e){var n=e.id,l=e.bbox,i=e.properties==null?{}:e.properties,s=Xi(t,e);return n==null&&l==null?{type:"Feature",properties:i,geometry:s}:l==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:l,properties:i,geometry:s}}function Xi(t,e){var n=Gi(t.transform),l=t.arcs;function i(r,f){f.length&&f.pop();for(var c=l[r<0?~r:r],u=0,p=c.length;u<p;++u)f.push(n(c[u],u));r<0&&Ji(f,p)}function s(r){return n(r)}function o(r){for(var f=[],c=0,u=r.length;c<u;++c)i(r[c],f);return f.length<2&&f.push(f[0]),f}function a(r){for(var f=o(r);f.length<4;)f.push(f[0]);return f}function m(r){return r.map(a)}function g(r){var f=r.type,c;switch(f){case"GeometryCollection":return{type:f,geometries:r.geometries.map(g)};case"Point":c=s(r.coordinates);break;case"MultiPoint":c=r.coordinates.map(s);break;case"LineString":c=o(r.arcs);break;case"MultiLineString":c=r.arcs.map(o);break;case"Polygon":c=m(r.arcs);break;case"MultiPolygon":c=r.arcs.map(m);break;default:return null}return{type:f,coordinates:c}}return g(e)}class ct{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let l=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(n[l++]=a),e=o}return n[l]=e,this._n=l+1,this}valueOf(){const e=this._partials;let n=this._n,l,i,s,o=0;if(n>0){for(o=e[--n];n>0&&(l=o,i=e[--n],o=l+i,s=i-(o-l),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,l=o+i,i==l-o&&(o=l))}return o}}function*Ki(t){for(const e of t)yield*e}function ui(t){return Array.from(Ki(t))}var te=1e-6,ee=Math.PI,Be=ee/2,xn=ee/4,Je=ee*2,Ze=180/ee,Fe=ee/180,ye=Math.abs,Zi=Math.atan,kt=Math.atan2,Se=Math.cos,pe=Math.sin,xt=Math.sign||function(t){return t>0?1:t<0?-1:0},lt=Math.sqrt;function Qi(t){return t>1?0:t<-1?ee:Math.acos(t)}function ut(t){return t>1?Be:t<-1?-Be:Math.asin(t)}function Ge(){}function sn(t,e){t&&tl.hasOwnProperty(t.type)&&tl[t.type](t,e)}var el={Feature:function(t,e){sn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,l=-1,i=n.length;++l<i;)sn(n[l].geometry,e)}},tl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)t=n[l],e.point(t[0],t[1],t[2])},LineString:function(t,e){Sn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)Sn(n[l],e,0)},Polygon:function(t,e){nl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)nl(n[l],e)},GeometryCollection:function(t,e){for(var n=t.geometries,l=-1,i=n.length;++l<i;)sn(n[l],e)}};function Sn(t,e,n){var l=-1,i=t.length-n,s;for(e.lineStart();++l<i;)s=t[l],e.point(s[0],s[1],s[2]);e.lineEnd()}function nl(t,e){var n=-1,l=t.length;for(e.polygonStart();++n<l;)Sn(t[n],e,1);e.polygonEnd()}function _t(t,e){t&&el.hasOwnProperty(t.type)?el[t.type](t,e):sn(t,e)}function Mn(t){return[kt(t[1],t[0]),ut(t[2])]}function St(t){var e=t[0],n=t[1],l=Se(n);return[l*Se(e),l*pe(e),pe(n)]}function Xt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function on(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Kt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function En(t){var e=lt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Cn(t,e){function n(l,i){return l=t(l,i),e(l[0],l[1])}return t.invert&&e.invert&&(n.invert=function(l,i){return l=e.invert(l,i),l&&t.invert(l[0],l[1])}),n}function qn(t,e){return ye(t)>ee&&(t-=Math.round(t/Je)*Je),[t,e]}qn.invert=qn;function $i(t,e,n){return(t%=Je)?e||n?Cn(il(t),sl(e,n)):il(t):e||n?sl(e,n):qn}function ll(t){return function(e,n){return e+=t,ye(e)>ee&&(e-=Math.round(e/Je)*Je),[e,n]}}function il(t){var e=ll(t);return e.invert=ll(-t),e}function sl(t,e){var n=Se(t),l=pe(t),i=Se(e),s=pe(e);function o(a,m){var g=Se(m),r=Se(a)*g,f=pe(a)*g,c=pe(m),u=c*n+r*l;return[kt(f*i-u*s,r*n-c*l),ut(u*i+f*s)]}return o.invert=function(a,m){var g=Se(m),r=Se(a)*g,f=pe(a)*g,c=pe(m),u=c*i-f*s;return[kt(f*i+c*s,r*n+u*l),ut(u*n-r*l)]},o}function xi(t,e,n,l,i,s){if(n){var o=Se(e),a=pe(e),m=l*n;i==null?(i=e+l*Je,s=e-m/2):(i=ol(o,i),s=ol(o,s),(l>0?i<s:i>s)&&(i+=l*Je));for(var g,r=i;l>0?r>s:r<s;r-=m)g=Mn([o,-a*Se(r),-a*pe(r)]),t.point(g[0],g[1])}}function ol(t,e){e=St(e),e[0]-=t,En(e);var n=Qi(-e[1]);return((-e[2]<0?-n:n)+Je-te)%Je}function fi(){var t=[],e;return{point:function(n,l,i){e.push([n,l,i])},lineStart:function(){t.push(e=[])},lineEnd:Ge,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function en(t,e){return ye(t[0]-e[0])<te&&ye(t[1]-e[1])<te}function Zt(t,e,n,l){this.x=t,this.z=e,this.o=n,this.e=l,this.v=!1,this.n=this.p=null}function hi(t,e,n,l,i){var s=[],o=[],a,m;if(t.forEach(function(p){if(!((y=p.length-1)<=0)){var y,w=p[0],E=p[y],k;if(en(w,E)){if(!w[2]&&!E[2]){for(i.lineStart(),a=0;a<y;++a)i.point((w=p[a])[0],w[1]);i.lineEnd();return}E[0]+=2*te}s.push(k=new Zt(w,p,null,!0)),o.push(k.o=new Zt(w,null,k,!1)),s.push(k=new Zt(E,p,null,!1)),o.push(k.o=new Zt(E,null,k,!0))}}),!!s.length){for(o.sort(e),rl(s),rl(o),a=0,m=o.length;a<m;++a)o[a].e=n=!n;for(var g=s[0],r,f;;){for(var c=g,u=!0;c.v;)if((c=c.n)===g)return;r=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(u)for(a=0,m=r.length;a<m;++a)i.point((f=r[a])[0],f[1]);else l(c.x,c.n.x,1,i);c=c.n}else{if(u)for(r=c.p.z,a=r.length-1;a>=0;--a)i.point((f=r[a])[0],f[1]);else l(c.x,c.p.x,-1,i);c=c.p}c=c.o,r=c.z,u=!u}while(!c.v);i.lineEnd()}}}function rl(t){if(e=t.length){for(var e,n=0,l=t[0],i;++n<e;)l.n=i=t[n],i.p=l,l=i;l.n=i=t[0],i.p=l}}function gn(t){return ye(t[0])<=ee?t[0]:xt(t[0])*((ye(t[0])+ee)%Je-ee)}function es(t,e){var n=gn(e),l=e[1],i=pe(l),s=[pe(n),-Se(n),0],o=0,a=0,m=new ct;i===1?l=Be+te:i===-1&&(l=-Be-te);for(var g=0,r=t.length;g<r;++g)if(c=(f=t[g]).length)for(var f,c,u=f[c-1],p=gn(u),y=u[1]/2+xn,w=pe(y),E=Se(y),k=0;k<c;++k,p=v,w=_,E=A,u=S){var S=f[k],v=gn(S),D=S[1]/2+xn,_=pe(D),A=Se(D),N=v-p,L=N>=0?1:-1,U=L*N,q=U>ee,O=w*_;if(m.add(kt(O*L*pe(U),E*A+O*Se(U))),o+=q?N+L*Je:N,q^p>=n^v>=n){var H=on(St(u),St(S));En(H);var I=on(s,H);En(I);var M=(q^N>=0?-1:1)*ut(I[2]);(l>M||l===M&&(H[0]||H[1]))&&(a+=q^N>=0?1:-1)}}return(o<-te||o<te&&m<-1e-12)^a&1}function di(t,e,n,l){return function(i){var s=e(i),o=fi(),a=e(o),m=!1,g,r,f,c={point:u,lineStart:y,lineEnd:w,polygonStart:function(){c.point=E,c.lineStart=k,c.lineEnd=S,r=[],g=[]},polygonEnd:function(){c.point=u,c.lineStart=y,c.lineEnd=w,r=ui(r);var v=es(g,l);r.length?(m||(i.polygonStart(),m=!0),hi(r,ns,v,n,i)):v&&(m||(i.polygonStart(),m=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),m&&(i.polygonEnd(),m=!1),r=g=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function u(v,D){t(v,D)&&i.point(v,D)}function p(v,D){s.point(v,D)}function y(){c.point=p,s.lineStart()}function w(){c.point=u,s.lineEnd()}function E(v,D){f.push([v,D]),a.point(v,D)}function k(){a.lineStart(),f=[]}function S(){E(f[0][0],f[0][1]),a.lineEnd();var v=a.clean(),D=o.result(),_,A=D.length,N,L,U;if(f.pop(),g.push(f),f=null,!!A){if(v&1){if(L=D[0],(N=L.length-1)>0){for(m||(i.polygonStart(),m=!0),i.lineStart(),_=0;_<N;++_)i.point((U=L[_])[0],U[1]);i.lineEnd()}return}A>1&&v&2&&D.push(D.pop().concat(D.shift())),r.push(D.filter(ts))}}return c}}function ts(t){return t.length>1}function ns(t,e){return((t=t.x)[0]<0?t[1]-Be-te:Be-t[1])-((e=e.x)[0]<0?e[1]-Be-te:Be-e[1])}const al=di(function(){return!0},ls,ss,[-ee,-Be]);function ls(t){var e=NaN,n=NaN,l=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,o){var a=s>0?ee:-ee,m=ye(s-e);ye(m-ee)<te?(t.point(e,n=(n+o)/2>0?Be:-Be),t.point(l,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(s,n),i=0):l!==a&&m>=ee&&(ye(e-l)<te&&(e-=l*te),ye(s-a)<te&&(s-=a*te),n=is(e,n,s,o),t.point(l,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=s,n=o),l=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function is(t,e,n,l){var i,s,o=pe(t-n);return ye(o)>te?Zi((pe(e)*(s=Se(l))*pe(n)-pe(l)*(i=Se(e))*pe(t))/(i*s*o)):(e+l)/2}function ss(t,e,n,l){var i;if(t==null)i=n*Be,l.point(-ee,i),l.point(0,i),l.point(ee,i),l.point(ee,0),l.point(ee,-i),l.point(0,-i),l.point(-ee,-i),l.point(-ee,0),l.point(-ee,i);else if(ye(t[0]-e[0])>te){var s=t[0]<e[0]?ee:-ee;i=n*s/2,l.point(-s,i),l.point(0,i),l.point(s,i)}else l.point(e[0],e[1])}function os(t){var e=Se(t),n=2*Fe,l=e>0,i=ye(e)>te;function s(r,f,c,u){xi(u,t,n,c,r,f)}function o(r,f){return Se(r)*Se(f)>e}function a(r){var f,c,u,p,y;return{lineStart:function(){p=u=!1,y=1},point:function(w,E){var k=[w,E],S,v=o(w,E),D=l?v?0:g(w,E):v?g(w+(w<0?ee:-ee),E):0;if(!f&&(p=u=v)&&r.lineStart(),v!==u&&(S=m(f,k),(!S||en(f,S)||en(k,S))&&(k[2]=1)),v!==u)y=0,v?(r.lineStart(),S=m(k,f),r.point(S[0],S[1])):(S=m(f,k),r.point(S[0],S[1],2),r.lineEnd()),f=S;else if(i&&f&&l^v){var _;!(D&c)&&(_=m(k,f,!0))&&(y=0,l?(r.lineStart(),r.point(_[0][0],_[0][1]),r.point(_[1][0],_[1][1]),r.lineEnd()):(r.point(_[1][0],_[1][1]),r.lineEnd(),r.lineStart(),r.point(_[0][0],_[0][1],3)))}v&&(!f||!en(f,k))&&r.point(k[0],k[1]),f=k,u=v,c=D},lineEnd:function(){u&&r.lineEnd(),f=null},clean:function(){return y|(p&&u)<<1}}}function m(r,f,c){var u=St(r),p=St(f),y=[1,0,0],w=on(u,p),E=Xt(w,w),k=w[0],S=E-k*k;if(!S)return!c&&r;var v=e*E/S,D=-e*k/S,_=on(y,w),A=Kt(y,v),N=Kt(w,D);pn(A,N);var L=_,U=Xt(A,L),q=Xt(L,L),O=U*U-q*(Xt(A,A)-1);if(!(O<0)){var H=lt(O),I=Kt(L,(-U-H)/q);if(pn(I,A),I=Mn(I),!c)return I;var M=r[0],F=f[0],Z=r[1],V=f[1],W;F<M&&(W=M,M=F,F=W);var le=F-M,B=ye(le-ee)<te,de=B||le<te;if(!B&&V<Z&&(W=Z,Z=V,V=W),de?B?Z+V>0^I[1]<(ye(I[0]-M)<te?Z:V):Z<=I[1]&&I[1]<=V:le>ee^(M<=I[0]&&I[0]<=F)){var Ce=Kt(L,(-U+H)/q);return pn(Ce,A),[I,Mn(Ce)]}}}function g(r,f){var c=l?t:ee-t,u=0;return r<-c?u|=1:r>c&&(u|=2),f<-c?u|=4:f>c&&(u|=8),u}return di(o,a,s,l?[0,-t]:[-ee,t-ee])}function rs(t,e,n,l,i,s){var o=t[0],a=t[1],m=e[0],g=e[1],r=0,f=1,c=m-o,u=g-a,p;if(p=n-o,!(!c&&p>0)){if(p/=c,c<0){if(p<r)return;p<f&&(f=p)}else if(c>0){if(p>f)return;p>r&&(r=p)}if(p=i-o,!(!c&&p<0)){if(p/=c,c<0){if(p>f)return;p>r&&(r=p)}else if(c>0){if(p<r)return;p<f&&(f=p)}if(p=l-a,!(!u&&p>0)){if(p/=u,u<0){if(p<r)return;p<f&&(f=p)}else if(u>0){if(p>f)return;p>r&&(r=p)}if(p=s-a,!(!u&&p<0)){if(p/=u,u<0){if(p>f)return;p>r&&(r=p)}else if(u>0){if(p<r)return;p<f&&(f=p)}return r>0&&(t[0]=o+r*c,t[1]=a+r*u),f<1&&(e[0]=o+f*c,e[1]=a+f*u),!0}}}}}var Lt=1e9,Qt=-Lt;function as(t,e,n,l){function i(g,r){return t<=g&&g<=n&&e<=r&&r<=l}function s(g,r,f,c){var u=0,p=0;if(g==null||(u=o(g,f))!==(p=o(r,f))||m(g,r)<0^f>0)do c.point(u===0||u===3?t:n,u>1?l:e);while((u=(u+f+4)%4)!==p);else c.point(r[0],r[1])}function o(g,r){return ye(g[0]-t)<te?r>0?0:3:ye(g[0]-n)<te?r>0?2:1:ye(g[1]-e)<te?r>0?1:0:r>0?3:2}function a(g,r){return m(g.x,r.x)}function m(g,r){var f=o(g,1),c=o(r,1);return f!==c?f-c:f===0?r[1]-g[1]:f===1?g[0]-r[0]:f===2?g[1]-r[1]:r[0]-g[0]}return function(g){var r=g,f=fi(),c,u,p,y,w,E,k,S,v,D,_,A={point:N,lineStart:O,lineEnd:H,polygonStart:U,polygonEnd:q};function N(M,F){i(M,F)&&r.point(M,F)}function L(){for(var M=0,F=0,Z=u.length;F<Z;++F)for(var V=u[F],W=1,le=V.length,B=V[0],de,Ce,ge=B[0],me=B[1];W<le;++W)de=ge,Ce=me,B=V[W],ge=B[0],me=B[1],Ce<=l?me>l&&(ge-de)*(l-Ce)>(me-Ce)*(t-de)&&++M:me<=l&&(ge-de)*(l-Ce)<(me-Ce)*(t-de)&&--M;return M}function U(){r=f,c=[],u=[],_=!0}function q(){var M=L(),F=_&&M,Z=(c=ui(c)).length;(F||Z)&&(g.polygonStart(),F&&(g.lineStart(),s(null,null,1,g),g.lineEnd()),Z&&hi(c,a,M,s,g),g.polygonEnd()),r=g,c=u=p=null}function O(){A.point=I,u&&u.push(p=[]),D=!0,v=!1,k=S=NaN}function H(){c&&(I(y,w),E&&v&&f.rejoin(),c.push(f.result())),A.point=N,v&&r.lineEnd()}function I(M,F){var Z=i(M,F);if(u&&p.push([M,F]),D)y=M,w=F,E=Z,D=!1,Z&&(r.lineStart(),r.point(M,F));else if(Z&&v)r.point(M,F);else{var V=[k=Math.max(Qt,Math.min(Lt,k)),S=Math.max(Qt,Math.min(Lt,S))],W=[M=Math.max(Qt,Math.min(Lt,M)),F=Math.max(Qt,Math.min(Lt,F))];rs(V,W,t,e,n,l)?(v||(r.lineStart(),r.point(V[0],V[1])),r.point(W[0],W[1]),Z||r.lineEnd(),_=!1):Z&&(r.lineStart(),r.point(M,F),_=!1)}k=M,S=F,v=Z}return A}}const Un=t=>t;var mn=new ct,Nn=new ct,pi,gi,Tn,Ln,nt={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){nt.lineStart=cs,nt.lineEnd=fs},polygonEnd:function(){nt.lineStart=nt.lineEnd=nt.point=Ge,mn.add(ye(Nn)),Nn=new ct},result:function(){var t=mn/2;return mn=new ct,t}};function cs(){nt.point=us}function us(t,e){nt.point=mi,pi=Tn=t,gi=Ln=e}function mi(t,e){Nn.add(Ln*t-Tn*e),Tn=t,Ln=e}function fs(){mi(pi,gi)}var Mt=1/0,rn=Mt,Ft=-Mt,an=Ft,cn={point:hs,lineStart:Ge,lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge,result:function(){var t=[[Mt,rn],[Ft,an]];return Ft=an=-(rn=Mt=1/0),t}};function hs(t,e){t<Mt&&(Mt=t),t>Ft&&(Ft=t),e<rn&&(rn=e),e>an&&(an=e)}var Pn=0,In=0,Pt=0,un=0,fn=0,yt=0,Dn=0,An=0,It=0,vi,_i,$e,xe,ze={point:ft,lineStart:cl,lineEnd:ul,polygonStart:function(){ze.lineStart=gs,ze.lineEnd=ms},polygonEnd:function(){ze.point=ft,ze.lineStart=cl,ze.lineEnd=ul},result:function(){var t=It?[Dn/It,An/It]:yt?[un/yt,fn/yt]:Pt?[Pn/Pt,In/Pt]:[NaN,NaN];return Pn=In=Pt=un=fn=yt=Dn=An=It=0,t}};function ft(t,e){Pn+=t,In+=e,++Pt}function cl(){ze.point=ds}function ds(t,e){ze.point=ps,ft($e=t,xe=e)}function ps(t,e){var n=t-$e,l=e-xe,i=lt(n*n+l*l);un+=i*($e+t)/2,fn+=i*(xe+e)/2,yt+=i,ft($e=t,xe=e)}function ul(){ze.point=ft}function gs(){ze.point=vs}function ms(){wi(vi,_i)}function vs(t,e){ze.point=wi,ft(vi=$e=t,_i=xe=e)}function wi(t,e){var n=t-$e,l=e-xe,i=lt(n*n+l*l);un+=i*($e+t)/2,fn+=i*(xe+e)/2,yt+=i,i=xe*t-$e*e,Dn+=i*($e+t),An+=i*(xe+e),It+=i*3,ft($e=t,xe=e)}function yi(t){this._context=t}yi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Je);break}}},result:Ge};var Rn=new ct,vn,bi,ki,Dt,At,Ht={point:Ge,lineStart:function(){Ht.point=_s},lineEnd:function(){vn&&Si(bi,ki),Ht.point=Ge},polygonStart:function(){vn=!0},polygonEnd:function(){vn=null},result:function(){var t=+Rn;return Rn=new ct,t}};function _s(t,e){Ht.point=Si,bi=Dt=t,ki=At=e}function Si(t,e){Dt-=t,At-=e,Rn.add(lt(Dt*Dt+At*At)),Dt=t,At=e}let fl,hn,hl,dl;class pl{constructor(e){this._append=e==null?Mi:ws(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==hl||this._append!==hn){const l=this._radius,i=this._;this._="",this._append`m0,${l}a${l},${l} 0 1,1 0,${-2*l}a${l},${l} 0 1,1 0,${2*l}z`,hl=l,hn=this._append,dl=this._,this._=i}this._+=dl;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Mi(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ws(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Mi;if(e!==fl){const n=10**e;fl=e,hn=function(i){let s=1;this._+=i[0];for(const o=i.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return hn}function ys(t,e){let n=3,l=4.5,i,s;function o(a){return a&&(typeof l=="function"&&s.pointRadius(+l.apply(this,arguments)),_t(a,i(s))),s.result()}return o.area=function(a){return _t(a,i(nt)),nt.result()},o.measure=function(a){return _t(a,i(Ht)),Ht.result()},o.bounds=function(a){return _t(a,i(cn)),cn.result()},o.centroid=function(a){return _t(a,i(ze)),ze.result()},o.projection=function(a){return arguments.length?(i=a==null?(t=null,Un):(t=a).stream,o):t},o.context=function(a){return arguments.length?(s=a==null?(e=null,new pl(n)):new yi(e=a),typeof l!="function"&&s.pointRadius(l),o):e},o.pointRadius=function(a){return arguments.length?(l=typeof a=="function"?a:(s.pointRadius(+a),+a),o):l},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const m=Math.floor(a);if(!(m>=0))throw new RangeError(`invalid digits: ${a}`);n=m}return e===null&&(s=new pl(n)),o},o.projection(t).digits(n).context(e)}function Bn(t){return function(e){var n=new On;for(var l in t)n[l]=t[l];return n.stream=e,n}}function On(){}On.prototype={constructor:On,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gn(t,e,n){var l=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),l!=null&&t.clipExtent(null),_t(n,t.stream(cn)),e(cn.result()),l!=null&&t.clipExtent(l),t}function Jn(t,e,n){return Gn(t,function(l){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(l[1][0]-l[0][0]),s/(l[1][1]-l[0][1])),a=+e[0][0]+(i-o*(l[1][0]+l[0][0]))/2,m=+e[0][1]+(s-o*(l[1][1]+l[0][1]))/2;t.scale(150*o).translate([a,m])},n)}function Ei(t,e,n){return Jn(t,[[0,0],e],n)}function Ci(t,e,n){return Gn(t,function(l){var i=+e,s=i/(l[1][0]-l[0][0]),o=(i-s*(l[1][0]+l[0][0]))/2,a=-s*l[0][1];t.scale(150*s).translate([o,a])},n)}function qi(t,e,n){return Gn(t,function(l){var i=+e,s=i/(l[1][1]-l[0][1]),o=-s*l[0][0],a=(i-s*(l[1][1]+l[0][1]))/2;t.scale(150*s).translate([o,a])},n)}var gl=16,bs=Se(30*Fe);function ml(t,e){return+e?Ss(t,e):ks(t)}function ks(t){return Bn({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Ss(t,e){function n(l,i,s,o,a,m,g,r,f,c,u,p,y,w){var E=g-l,k=r-i,S=E*E+k*k;if(S>4*e&&y--){var v=o+c,D=a+u,_=m+p,A=lt(v*v+D*D+_*_),N=ut(_/=A),L=ye(ye(_)-1)<te||ye(s-f)<te?(s+f)/2:kt(D,v),U=t(L,N),q=U[0],O=U[1],H=q-l,I=O-i,M=k*H-E*I;(M*M/S>e||ye((E*H+k*I)/S-.5)>.3||o*c+a*u+m*p<bs)&&(n(l,i,s,o,a,m,q,O,L,v/=A,D/=A,_,y,w),w.point(q,O),n(q,O,L,v,D,_,g,r,f,c,u,p,y,w))}}return function(l){var i,s,o,a,m,g,r,f,c,u,p,y,w={point:E,lineStart:k,lineEnd:v,polygonStart:function(){l.polygonStart(),w.lineStart=D},polygonEnd:function(){l.polygonEnd(),w.lineStart=k}};function E(N,L){N=t(N,L),l.point(N[0],N[1])}function k(){f=NaN,w.point=S,l.lineStart()}function S(N,L){var U=St([N,L]),q=t(N,L);n(f,c,r,u,p,y,f=q[0],c=q[1],r=N,u=U[0],p=U[1],y=U[2],gl,l),l.point(f,c)}function v(){w.point=E,l.lineEnd()}function D(){k(),w.point=_,w.lineEnd=A}function _(N,L){S(i=N,L),s=f,o=c,a=u,m=p,g=y,w.point=S}function A(){n(f,c,r,u,p,y,s,o,i,a,m,g,gl,l),w.lineEnd=v,v()}return w}}var Ms=Bn({point:function(t,e){this.stream.point(t*Fe,e*Fe)}});function Es(t){return Bn({point:function(e,n){var l=t(e,n);return this.stream.point(l[0],l[1])}})}function Cs(t,e,n,l,i){function s(o,a){return o*=l,a*=i,[e+t*o,n-t*a]}return s.invert=function(o,a){return[(o-e)/t*l,(n-a)/t*i]},s}function vl(t,e,n,l,i,s){if(!s)return Cs(t,e,n,l,i);var o=Se(s),a=pe(s),m=o*t,g=a*t,r=o/t,f=a/t,c=(a*n-o*e)/t,u=(a*e+o*n)/t;function p(y,w){return y*=l,w*=i,[m*y-g*w+e,n-g*y-m*w]}return p.invert=function(y,w){return[l*(r*y-f*w+c),i*(u-f*y-r*w)]},p}function qs(t){var e,n=150,l=480,i=250,s=0,o=0,a=0,m=0,g=0,r,f=0,c=1,u=1,p=null,y=al,w=null,E,k,S,v=Un,D=.5,_,A,N,L,U;function q(M){return N(M[0]*Fe,M[1]*Fe)}function O(M){return M=N.invert(M[0],M[1]),M&&[M[0]*Ze,M[1]*Ze]}q.stream=function(M){return L&&U===M?L:L=Ms(Es(r)(y(_(v(U=M)))))},q.preclip=function(M){return arguments.length?(y=M,p=void 0,I()):y},q.postclip=function(M){return arguments.length?(v=M,w=E=k=S=null,I()):v},q.clipAngle=function(M){return arguments.length?(y=+M?os(p=M*Fe):(p=null,al),I()):p*Ze},q.clipExtent=function(M){return arguments.length?(v=M==null?(w=E=k=S=null,Un):as(w=+M[0][0],E=+M[0][1],k=+M[1][0],S=+M[1][1]),I()):w==null?null:[[w,E],[k,S]]},q.scale=function(M){return arguments.length?(n=+M,H()):n},q.translate=function(M){return arguments.length?(l=+M[0],i=+M[1],H()):[l,i]},q.center=function(M){return arguments.length?(s=M[0]%360*Fe,o=M[1]%360*Fe,H()):[s*Ze,o*Ze]},q.rotate=function(M){return arguments.length?(a=M[0]%360*Fe,m=M[1]%360*Fe,g=M.length>2?M[2]%360*Fe:0,H()):[a*Ze,m*Ze,g*Ze]},q.angle=function(M){return arguments.length?(f=M%360*Fe,H()):f*Ze},q.reflectX=function(M){return arguments.length?(c=M?-1:1,H()):c<0},q.reflectY=function(M){return arguments.length?(u=M?-1:1,H()):u<0},q.precision=function(M){return arguments.length?(_=ml(A,D=M*M),I()):lt(D)},q.fitExtent=function(M,F){return Jn(q,M,F)},q.fitSize=function(M,F){return Ei(q,M,F)},q.fitWidth=function(M,F){return Ci(q,M,F)},q.fitHeight=function(M,F){return qi(q,M,F)};function H(){var M=vl(n,0,0,c,u,f).apply(null,e(s,o)),F=vl(n,l-M[0],i-M[1],c,u,f);return r=$i(a,m,g),A=Cn(e,F),N=Cn(r,A),_=ml(A,D),I()}function I(){return L=U=null,q}return function(){return e=t.apply(this,arguments),q.invert=e.invert&&O,H()}}function Us(t){var e=0,n=ee/3,l=qs(t),i=l(e,n);return i.parallels=function(s){return arguments.length?l(e=s[0]*Fe,n=s[1]*Fe):[e*Ze,n*Ze]},i}function Ns(t){var e=Se(t);function n(l,i){return[l*e,pe(i)/e]}return n.invert=function(l,i){return[l/e,ut(i*e)]},n}function Ts(t,e){var n=pe(t),l=(n+pe(e))/2;if(ye(l)<te)return Ns(t);var i=1+n*(2*l-n),s=lt(i)/l;function o(a,m){var g=lt(i-2*l*pe(m))/l;return[g*pe(a*=l),s-g*Se(a)]}return o.invert=function(a,m){var g=s-m,r=kt(a,ye(g))*xt(g);return g*l<0&&(r-=ee*xt(a)*xt(g)),[r/l,ut((i-(a*a+g*g)*l*l)/(2*l))]},o}function jn(){return Us(Ts).scale(155.424).center([0,33.6442])}function Ls(){return jn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ps(t){var e=t.length;return{point:function(n,l){for(var i=-1;++i<e;)t[i].point(n,l)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Is(){var t,e,n=Ls(),l,i=jn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=jn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,m,g={point:function(c,u){m=[c,u]}};function r(c){var u=c[0],p=c[1];return m=null,l.point(u,p),m||(s.point(u,p),m)||(a.point(u,p),m)}r.invert=function(c){var u=n.scale(),p=n.translate(),y=(c[0]-p[0])/u,w=(c[1]-p[1])/u;return(w>=.12&&w<.234&&y>=-.425&&y<-.214?i:w>=.166&&w<.234&&y>=-.214&&y<-.115?o:n).invert(c)},r.stream=function(c){return t&&e===c?t:t=Ps([n.stream(e=c),i.stream(c),o.stream(c)])},r.precision=function(c){return arguments.length?(n.precision(c),i.precision(c),o.precision(c),f()):n.precision()},r.scale=function(c){return arguments.length?(n.scale(c),i.scale(c*.35),o.scale(c),r.translate(n.translate())):n.scale()},r.translate=function(c){if(!arguments.length)return n.translate();var u=n.scale(),p=+c[0],y=+c[1];return l=n.translate(c).clipExtent([[p-.455*u,y-.238*u],[p+.455*u,y+.238*u]]).stream(g),s=i.translate([p-.307*u,y+.201*u]).clipExtent([[p-.425*u+te,y+.12*u+te],[p-.214*u-te,y+.234*u-te]]).stream(g),a=o.translate([p-.205*u,y+.212*u]).clipExtent([[p-.214*u+te,y+.166*u+te],[p-.115*u-te,y+.234*u-te]]).stream(g),f()},r.fitExtent=function(c,u){return Jn(r,c,u)},r.fitSize=function(c,u){return Ei(r,c,u)},r.fitWidth=function(c,u){return Ci(r,c,u)},r.fitHeight=function(c,u){return qi(r,c,u)};function f(){return t=e=null,r}return r.scale(1070)}function _l(t,e,n){const l=t.slice();return l[70]=e[n],l}function wl(t,e,n){const l=t.slice();return l[70]=e[n],l}function yl(t,e,n){const l=t.slice();return l[75]=e[n],l}function bl(t,e,n){const l=t.slice();l[78]=e[n],l[82]=n;const i=(l[56]-10)*(l[82]/(l[59].length-1))+5;l[79]=i;const s=l[78]===0;return l[80]=s,l}function kl(t,e,n){const l=t.slice();l[78]=e[n],l[82]=n;const i=(l[56]-10)*(l[82]/(l[59].length-1))+5;return l[79]=i,l}function Ds(t){const e=t.slice(),n=Math.max(...e[10].map(_=>_[1].count),1);e[50]=n;const l=400;e[51]=l;const i=800;e[52]=i;const s=50;e[53]=s;const o=40;e[54]=o;const a=e[52]-e[53];e[55]=a;const m=e[51]-e[54];e[56]=m;const g=function(){return t[23](e[50])}();e[57]=g;const r=function(){return t[24](e[57])}();e[58]=r;const f=Array.from({length:e[58]+1},function(...A){return t[25](e[57],e[58],...A)});e[59]=f;const c=_=>{if(_===0)return"0";if(_>=1e3){const A=_/1e3;return A%1===0?A+"k":A.toFixed(1)+"k"}return _.toString()};e[60]=c;const u=_=>{const[A,N,L]=_.split("-").map(Number);return Date.UTC(A,N-1,L)};e[61]=u;const p=e[61](e[10][0][0]);e[62]=p;const y=e[61](e[10][e[10].length-1][0]);e[63]=y;const w=e[63]-e[62]||1;e[64]=w;const E=Math.max(1,e[55]/e[10].length*.8);e[65]=E;const k=e[10].map(function(...A){return t[26](e[61],e[53],e[62],e[64],e[55],e[57],e[56],e[59],...A)});e[66]=k;const S=function(){return t[27](e[62],e[64],e[53],e[55])}();e[67]=S;const v=[...e[59]].reverse();e[68]=v;const D=e[56]-5;return e[69]=D,e}function Sl(t,e,n){const l=t.slice();return l[84]=e[n],l[82]=n,l}function Ml(t,e,n){const l=t.slice();return l[86]=e[n],l}function As(t){let e=t[12].toLocaleString()+"",n;return{c(){n=R(e)},m(l,i){P(l,n,i)},p(l,i){i[0]&4096&&e!==(e=l[12].toLocaleString()+"")&&Q(n,e)},d(l){l&&T(n)}}}function Rs(t){let e;return{c(){e=b("span"),e.textContent="Loading...",h(e,"class","loading-text svelte-e4uw79")},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function Os(t){let e,n;return{c(){e=Ie("text"),n=R("Loading map..."),h(e,"x","480"),h(e,"y","300"),h(e,"text-anchor","middle"),h(e,"fill","#ccc"),h(e,"font-size","14")},m(l,i){P(l,e,i),d(e,n)},p:De,d(l){l&&T(e)}}}function js(t){let e,n=Ne(t[7].features),l=[];for(let i=0;i<n.length;i+=1)l[i]=El(Ml(t,n,i));return{c(){e=Ie("g");for(let i=0;i<l.length;i+=1)l[i].c();h(e,"id","us-states")},m(i,s){P(i,e,s);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(i,s){if(s[0]&524416){n=Ne(i[7].features);let o;for(o=0;o<n.length;o+=1){const a=Ml(i,n,o);l[o]?l[o].p(a,s):(l[o]=El(a),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&T(e),Qe(l,i)}}}function El(t){let e,n;return{c(){e=Ie("path"),h(e,"class","state-path svelte-e4uw79"),h(e,"d",n=t[19](t[86])),h(e,"fill","#f9f9f9"),h(e,"stroke","#c0c0c0"),h(e,"stroke-width","1")},m(l,i){P(l,e,i)},p(l,i){i[0]&128&&n!==(n=l[19](l[86]))&&h(e,"d",n)},d(l){l&&T(e)}}}function Cl(t){let e,n,l,i,s,o;function a(...m){return t[21](t[84],...m)}return{c(){e=Ie("circle"),h(e,"cx",n=t[84].displayCoords.x),h(e,"cy",l=t[84].displayCoords.y),h(e,"r","5"),h(e,"class","school-dot svelte-e4uw79"),Tt(e,"--delay",t[82]*.01+"s"),h(e,"role","button"),h(e,"tabindex","0"),h(e,"aria-label",i="View details for "+t[84].name),wt(e,"hovered",t[3]===t[84])},m(m,g){P(m,e,g),s||(o=[ae(e,"mouseenter",a),ae(e,"mouseleave",t[17])],s=!0)},p(m,g){t=m,g[0]&2048&&n!==(n=t[84].displayCoords.x)&&h(e,"cx",n),g[0]&2048&&l!==(l=t[84].displayCoords.y)&&h(e,"cy",l),g[0]&2048&&i!==(i="View details for "+t[84].name)&&h(e,"aria-label",i),g[0]&2056&&wt(e,"hovered",t[3]===t[84])},d(m){m&&T(e),s=!1,Ve(o)}}}function ql(t){let e,n,l,i=t[3].name+"",s,o,a,m=t[3].state+"",g;return{c(){e=b("div"),n=b("div"),l=b("div"),s=R(i),o=j(),a=b("div"),g=R(m),h(l,"class","tooltip-title svelte-e4uw79"),h(a,"class","tooltip-state svelte-e4uw79"),h(n,"class","tooltip-content svelte-e4uw79"),h(e,"class","tooltip svelte-e4uw79"),Tt(e,"left",t[4]+"px"),Tt(e,"top",t[5]+"px")},m(r,f){P(r,e,f),d(e,n),d(n,l),d(l,s),d(n,o),d(n,a),d(a,g)},p(r,f){f[0]&8&&i!==(i=r[3].name+"")&&Q(s,i),f[0]&8&&m!==(m=r[3].state+"")&&Q(g,m),f[0]&16&&Tt(e,"left",r[4]+"px"),f[0]&32&&Tt(e,"top",r[5]+"px")},d(r){r&&T(e)}}}function Fs(t){let e,n,l,i=t[0].length+"",s,o,a=Object.keys(t[1]).length+"",m;return{c(){e=b("section"),n=b("p"),l=R("No article data loaded. Articles: "),s=R(i),o=R(", Date keys: "),m=R(a),h(n,"class","loading-text svelte-e4uw79"),h(e,"class","charts-section svelte-e4uw79")},m(g,r){P(g,e,r),d(e,n),d(n,l),d(n,s),d(n,o),d(n,m)},p(g,r){r[0]&1&&i!==(i=g[0].length+"")&&Q(s,i),r[0]&2&&a!==(a=Object.keys(g[1]).length+"")&&Q(m,a)},d(g){g&&T(e)}}}function Hs(t){let e;return{c(){e=b("section"),e.innerHTML='<p class="loading-text svelte-e4uw79">Loading article data...</p>',h(e,"class","charts-section svelte-e4uw79")},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function Ws(t){let e,n,l,i,s,o,a,m,g=t[0].length.toLocaleString()+"",r,f,c=t[10].length+"",u,p,y=t[10].length>0?`${t[10][0][0]} to ${t[10][t[10].length-1][0]}`:"N/A",w,E,k,S;function v(N,L){return N[10].length>0?Ul:zs}function D(N,L){return L===Ul?Ds(N):N}let _=v(t),A=_(D(t,_));return{c(){e=b("section"),n=b("h3"),n.textContent="Article Frequency Over Time",l=j(),i=b("div"),s=b("h4"),s.textContent="Weekly Article Count",o=j(),a=b("p"),m=R("Number of articles published each week (Total articles: "),r=R(g),f=R(", Weekly data points: "),u=R(c),p=R(", Date range: "),w=R(y),E=R(")"),k=j(),S=b("div"),A.c(),h(n,"class","svelte-e4uw79"),h(s,"class","svelte-e4uw79"),h(a,"class","chart-dek svelte-e4uw79"),h(S,"class","bar-chart-wrapper svelte-e4uw79"),h(i,"class","chart-container svelte-e4uw79"),h(e,"class","charts-section svelte-e4uw79")},m(N,L){P(N,e,L),d(e,n),d(e,l),d(e,i),d(i,s),d(i,o),d(i,a),d(a,m),d(a,r),d(a,f),d(a,u),d(a,p),d(a,w),d(a,E),d(i,k),d(i,S),A.m(S,null)},p(N,L){L[0]&1&&g!==(g=N[0].length.toLocaleString()+"")&&Q(r,g),L[0]&1024&&c!==(c=N[10].length+"")&&Q(u,c),L[0]&1024&&y!==(y=N[10].length>0?`${N[10][0][0]} to ${N[10][N[10].length-1][0]}`:"N/A")&&Q(w,y),_===(_=v(N))&&A?A.p(D(N,_),L):(A.d(1),A=_(D(N,_)),A&&(A.c(),A.m(S,null)))},d(N){N&&T(e),A.d()}}}function zs(t){let e,n,l=Object.keys(t[1]).length+"",i;return{c(){e=b("p"),n=R("No daily bar data available. Raw data keys: "),i=R(l),h(e,"class","loading-text svelte-e4uw79")},m(s,o){P(s,e,o),d(e,n),d(e,i)},p(s,o){o[0]&2&&l!==(l=Object.keys(s[1]).length+"")&&Q(i,l)},d(s){s&&T(e)}}}function Ul(t){let e,n,l,i,s,o,a,m,g,r=Ne(t[68]),f=[];for(let v=0;v<r.length;v+=1)f[v]=Nl(kl(t,r,v));let c=Ne(t[68]),u=[];for(let v=0;v<c.length;v+=1)u[v]=Ll(bl(t,c,v));let p=Ne(t[66]),y=[];for(let v=0;v<p.length;v+=1)y[v]=Pl(yl(t,p,v));let w=Ne(t[67]),E=[];for(let v=0;v<w.length;v+=1)E[v]=Il(wl(t,w,v));let k=Ne(t[67]),S=[];for(let v=0;v<k.length;v+=1)S[v]=Dl(_l(t,k,v));return{c(){e=b("div"),n=b("div"),l=Ie("svg"),i=Ie("g");for(let v=0;v<f.length;v+=1)f[v].c();s=Ie("g");for(let v=0;v<u.length;v+=1)u[v].c();o=Ie("g");for(let v=0;v<y.length;v+=1)y[v].c();a=Ie("line"),m=Ie("g");for(let v=0;v<E.length;v+=1)E[v].c();g=Ie("g");for(let v=0;v<S.length;v+=1)S[v].c();h(i,"class","y-axis-labels svelte-e4uw79"),h(s,"class","grid-lines"),h(o,"class","bars"),h(a,"x1","0"),h(a,"y1",t[69]),h(a,"x2",t[52]),h(a,"y2",t[69]),h(a,"stroke","#888"),h(a,"stroke-width","1.5"),h(m,"class","x-axis-ticks"),h(g,"class","x-axis-labels"),h(l,"viewBox","0 0 "+t[52]+" "+t[51]),h(l,"class","bar-chart-svg svelte-e4uw79"),h(n,"class","bar-chart-svg-container svelte-e4uw79"),h(e,"class","bar-chart-container svelte-e4uw79")},m(v,D){P(v,e,D),d(e,n),d(n,l),d(l,i);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(i,null);d(l,s);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(s,null);d(l,o);for(let _=0;_<y.length;_+=1)y[_]&&y[_].m(o,null);d(l,a),d(l,m);for(let _=0;_<E.length;_+=1)E[_]&&E[_].m(m,null);d(l,g);for(let _=0;_<S.length;_+=1)S[_]&&S[_].m(g,null)},p(v,D){if(D[0]&1024){r=Ne(v[68]);let _;for(_=0;_<r.length;_+=1){const A=kl(v,r,_);f[_]?f[_].p(A,D):(f[_]=Nl(A),f[_].c(),f[_].m(i,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=r.length}if(D[0]&1024){c=Ne(v[68]);let _;for(_=0;_<c.length;_+=1){const A=bl(v,c,_);u[_]?u[_].p(A,D):(u[_]=Ll(A),u[_].c(),u[_].m(s,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=c.length}if(D[0]&1024){p=Ne(v[66]);let _;for(_=0;_<p.length;_+=1){const A=yl(v,p,_);y[_]?y[_].p(A,D):(y[_]=Pl(A),y[_].c(),y[_].m(o,null))}for(;_<y.length;_+=1)y[_].d(1);y.length=p.length}if(D[0]&1024){w=Ne(v[67]);let _;for(_=0;_<w.length;_+=1){const A=wl(v,w,_);E[_]?E[_].p(A,D):(E[_]=Il(A),E[_].c(),E[_].m(m,null))}for(;_<E.length;_+=1)E[_].d(1);E.length=w.length}if(D[0]&1024){k=Ne(v[67]);let _;for(_=0;_<k.length;_+=1){const A=_l(v,k,_);S[_]?S[_].p(A,D):(S[_]=Dl(A),S[_].c(),S[_].m(g,null))}for(;_<S.length;_+=1)S[_].d(1);S.length=k.length}},d(v){v&&T(e),Qe(f,v),Qe(u,v),Qe(y,v),Qe(E,v),Qe(S,v)}}}function Nl(t){let e,n=t[60](t[78])+"",l,i;return{c(){e=Ie("text"),l=R(n),h(e,"x","5"),h(e,"y",i=t[79]),h(e,"text-anchor","start"),h(e,"dominant-baseline","middle"),h(e,"class","y-axis-label svelte-e4uw79")},m(s,o){P(s,e,o),d(e,l)},p(s,o){o[0]&1024&&n!==(n=s[60](s[78])+"")&&Q(l,n),o[0]&1024&&i!==(i=s[79])&&h(e,"y",i)},d(s){s&&T(e)}}}function Tl(t){let e,n,l;return{c(){e=Ie("line"),h(e,"x1",t[53]),h(e,"y1",n=t[79]),h(e,"x2",t[52]),h(e,"y2",l=t[79]),h(e,"stroke","#f0f0f0"),h(e,"stroke-width","0.5")},m(i,s){P(i,e,s)},p(i,s){s[0]&1024&&n!==(n=i[79])&&h(e,"y1",n),s[0]&1024&&l!==(l=i[79])&&h(e,"y2",l)},d(i){i&&T(e)}}}function Ll(t){let e,n=!t[80]&&Tl(t);return{c(){n&&n.c(),e=Et()},m(l,i){n&&n.m(l,i),P(l,e,i)},p(l,i){l[80]?n&&(n.d(1),n=null):n?n.p(l,i):(n=Tl(l),n.c(),n.m(e.parentNode,e))},d(l){l&&T(e),n&&n.d(l)}}}function Pl(t){let e,n,l=t[75].date+"",i,s,o=t[75].count.toLocaleString()+"",a,m,g,r,f,c;return{c(){e=Ie("rect"),n=Ie("title"),i=R(l),s=R(": "),a=R(o),m=R(" articles"),h(e,"x",g=t[75].x-t[65]/2),h(e,"y",r=t[75].y),h(e,"width",f=t[65]),h(e,"height",c=t[75].height),h(e,"fill","#254c6f"),h(e,"opacity","0.9"),h(e,"class","bar svelte-e4uw79")},m(u,p){P(u,e,p),d(e,n),d(n,i),d(n,s),d(n,a),d(n,m)},p(u,p){p[0]&1024&&l!==(l=u[75].date+"")&&Q(i,l),p[0]&1024&&o!==(o=u[75].count.toLocaleString()+"")&&Q(a,o),p[0]&1024&&g!==(g=u[75].x-u[65]/2)&&h(e,"x",g),p[0]&1024&&r!==(r=u[75].y)&&h(e,"y",r),p[0]&1024&&f!==(f=u[65])&&h(e,"width",f),p[0]&1024&&c!==(c=u[75].height)&&h(e,"height",c)},d(u){u&&T(e)}}}function Il(t){let e,n,l;return{c(){e=Ie("line"),h(e,"x1",n=t[70].x),h(e,"y1",t[69]),h(e,"x2",l=t[70].x),h(e,"y2",t[69]+5),h(e,"stroke","#888"),h(e,"stroke-width","1")},m(i,s){P(i,e,s)},p(i,s){s[0]&1024&&n!==(n=i[70].x)&&h(e,"x1",n),s[0]&1024&&l!==(l=i[70].x)&&h(e,"x2",l)},d(i){i&&T(e)}}}function Dl(t){let e,n=t[70].label+"",l,i;return{c(){e=Ie("text"),l=R(n),h(e,"x",i=t[70].x),h(e,"y",t[56]+20),h(e,"text-anchor","middle"),h(e,"class","bar-label svelte-e4uw79")},m(s,o){P(s,e,o),d(e,l)},p(s,o){o[0]&1024&&n!==(n=s[70].label+"")&&Q(l,n),o[0]&1024&&i!==(i=s[70].x)&&h(e,"x",i)},d(s){s&&T(e)}}}function Al(t){let e;return{c(){e=b("div"),e.innerHTML='<p class="svelte-e4uw79">The headline, date published, full text and link to any given article.</p>',h(e,"class","faq-answer svelte-e4uw79")},m(n,l){P(n,e,l)},d(n){n&&T(e)}}}function Rl(t){let e;return{c(){e=b("div"),e.innerHTML='<p class="svelte-e4uw79">We aim to publish more data soon that goes farther back.</p>',h(e,"class","faq-answer svelte-e4uw79")},m(n,l){P(n,e,l)},d(n){n&&T(e)}}}function Ol(t){let e;return{c(){e=b("div"),e.innerHTML='<p class="svelte-e4uw79">Post-secondary education institutions with degree-granting programs above the high school level that lead to a certificate or degree, including community colleges, technical or trade schools, universities, graduate programs, and vocational schools.</p>',h(e,"class","faq-answer svelte-e4uw79")},m(n,l){P(n,e,l)},d(n){n&&T(e)}}}function jl(t){let e;return{c(){e=b("div"),e.innerHTML='<p class="svelte-e4uw79">Fill in answer here</p>',h(e,"class","faq-answer svelte-e4uw79")},m(n,l){P(n,e,l)},d(n){n&&T(e)}}}function Ys(t){let e,n,l,i,s,o,a,m,g,r,f,c,u,p,y,w,E,k,S,v,D,_,A,N,L,U,q,O,H,I,M,F,Z,V,W,le,B,de,Ce,ge,me,Xe,Y,G,ve=t[8]===0?"−":"+",ce,_e,ie,$,x,Ae,Te,ue,qe=t[8]===1?"−":"+",He,Re,Ke,ke,Me,J,be,ht,dt=t[8]===2?"−":"+",Ct,Yt,Bt,et,tt,qt,Gt,pt,gt=t[8]===3?"−":"+",Ut,Jt,Nt,C;function z(X,Ue){return X[9]?Rs:As}let K=z(t),se=K(t);function We(X,Ue){return X[7]?js:Os}let Oe=We(t),we=Oe(t),je=Ne(t[11]),ne=[];for(let X=0;X<je.length;X+=1)ne[X]=Cl(Sl(t,je,X));let re=t[6]&&t[3]&&ql(t);function Vt(X,Ue){return Ue[0]&514&&(Z=null),Z==null&&(Z=!X[9]&&Object.keys(X[1]).length>0),Z?Ws:X[9]?Hs:Fs}let rt=Vt(t,[-1,-1,-1]),oe=rt(t),fe=t[8]===0&&Al(),Le=t[8]===1&&Rl(),Pe=t[8]===2&&Ol(),he=t[8]===3&&jl();return{c(){e=b("div"),n=b("div"),l=b("div"),i=b("section"),s=b("div"),o=b("div"),a=b("div"),m=R(t[14]),g=j(),r=b("div"),r.textContent="Universities",f=j(),c=b("div"),u=b("div"),p=R(t[13]),y=j(),w=b("div"),w.textContent="States",E=j(),k=b("div"),S=b("div"),se.c(),v=j(),D=b("div"),D.textContent="Total Records",_=j(),A=b("div"),A.innerHTML=`<h2 class="svelte-e4uw79">Mapping University Responses</h2> <p class="subhead svelte-e4uw79">Comprehensive tracking of institutional responses to campus protests and federal actions 
            across major universities nationwide.</p>`,N=j(),L=b("section"),U=b("div"),q=Ie("svg"),we.c(),O=Et();for(let X=0;X<ne.length;X+=1)ne[X].c();H=j(),re&&re.c(),I=j(),M=b("div"),M.innerHTML='<div class="legend-item svelte-e4uw79"><div class="legend-dot single svelte-e4uw79"></div> <span>Each dot represents a university</span></div>',F=j(),oe.c(),V=j(),W=b("section"),W.innerHTML=`<h3 class="svelte-e4uw79">Dataset Methodology</h3> <h4 class="svelte-e4uw79">Overview</h4> <p class="svelte-e4uw79">This database tracks public communications from 100+ universities during a period of heightened federal oversight,
          capturing how higher education institutions respond to regulatory pressure through their official announcements and statements.</p> <h4 class="svelte-e4uw79">Collection</h4> <p class="svelte-e4uw79">This dataset was created using the Tow Center&#39;s scraper factory, a framework for bulk creating and managing web scrapers.
          To select the universities in this dataset, we identified any higher education institution that the Department of Education
          announced investigations into since Donald Trump came into office. We cross-referenced this with universities flagged for
          federal oversight in the <a href="https://hechingerreport.org/which-schools-and-colleges-are-being-investigated-by-the-trump-administration/" target="_blank" rel="noopener noreferrer" class="svelte-e4uw79">Hechinger Report&#39;s investigation tracker</a>, which follows a similar collection method.</p> <p class="svelte-e4uw79">In order to select the websites from each school to scrape, we identified links to each institution&#39;s main news announcements,
          press releases, provost office, president or chancellor office, board of trustees, international student office, and financial
          office pages where article-style information was posted. Not all institutions maintain all of these page types, so when possible
          we identified their equivalent offices. This approach resulted in a minimum of three web scrapers per institution and in some
          cases up to seven.</p> <p class="svelte-e4uw79">We use a multi-step process to manually and automatically verify the data within each university&#39;s dataset to ensure it is
          complete and not missing any links, texts or information prior to publication.</p> <p class="svelte-e4uw79">Currently the data is from Jan. 1, 2025 onwards, and is updated weekly. We plan on releasing more data with previous years
          in the near future.</p> <h4 class="svelte-e4uw79">Sourcing</h4> <h5 class="svelte-e4uw79">Available Content Types</h5> <ul class="svelte-e4uw79"><li class="svelte-e4uw79">Official university press releases</li> <li class="svelte-e4uw79">University news pages and portals</li> <li class="svelte-e4uw79">Public announcement pages for campus communities</li> <li class="svelte-e4uw79">Policy statements from university leadership</li> <li class="svelte-e4uw79">Operational updates and campus communications</li></ul> <h4 class="svelte-e4uw79">Limitations &amp; Exclusions</h4> <h5 class="svelte-e4uw79">Not Included</h5> <ul class="svelte-e4uw79"><li class="svelte-e4uw79">Private or internal communications</li> <li class="svelte-e4uw79">Information published in non latin characters</li> <li class="svelte-e4uw79">Social media posts</li> <li class="svelte-e4uw79">Routine academic announcements (course schedules, calendars)</li> <li class="svelte-e4uw79">Individual department or faculty pages</li> <li class="svelte-e4uw79">Password-protected or login-protected content</li></ul> <h5 class="svelte-e4uw79">Data Gaps</h5> <ul class="svelte-e4uw79"><li class="svelte-e4uw79">Some universities may block automated access to certain pages</li> <li class="svelte-e4uw79">Announcements without clear publication dates are marked as undated, but we manually verify dates when possible. Original publication dates are preserved when available.</li> <li class="svelte-e4uw79">Historical communications prior to January 2025 (collection in progress)</li></ul> <h4 class="svelte-e4uw79">Privacy &amp; Ethics</h4> <p class="svelte-e4uw79">All data collection focuses exclusively on publicly available content that universities have chosen to share openly.
          No private communications or restricted-access materials are included in the database.</p> <h4 class="svelte-e4uw79">Access &amp; Updates</h4> <p class="svelte-e4uw79">This dataset is open-source and updated regularly as new university communications are published. For technical
          questions about data collection methods or to report data quality issues, please contact our team.</p> <p class="last-updated svelte-e4uw79"><strong>Last Updated:</strong> November 26, 2025</p>`,le=j(),B=b("section"),de=b("h3"),de.textContent="Frequently Asked Questions",Ce=j(),ge=b("div"),me=b("button"),Xe=b("span"),Xe.textContent="What is available for any given school?",Y=j(),G=b("span"),ce=R(ve),_e=j(),fe&&fe.c(),ie=j(),$=b("div"),x=b("button"),Ae=b("span"),Ae.textContent="Why not farther back?",Te=j(),ue=b("span"),He=R(qe),Re=j(),Le&&Le.c(),Ke=j(),ke=b("div"),Me=b("button"),J=b("span"),J.textContent="What types of schools are included?",be=j(),ht=b("span"),Ct=R(dt),Yt=j(),Pe&&Pe.c(),Bt=j(),et=b("div"),tt=b("button"),qt=b("span"),qt.textContent="What is not available?",Gt=j(),pt=b("span"),Ut=R(gt),Jt=j(),he&&he.c(),h(a,"class","stat-number svelte-e4uw79"),h(r,"class","stat-label svelte-e4uw79"),h(o,"class","stat-card svelte-e4uw79"),h(u,"class","stat-number svelte-e4uw79"),h(w,"class","stat-label svelte-e4uw79"),h(c,"class","stat-card svelte-e4uw79"),h(S,"class","stat-number svelte-e4uw79"),h(D,"class","stat-label svelte-e4uw79"),h(k,"class","stat-card svelte-e4uw79"),h(s,"class","stats-grid svelte-e4uw79"),h(A,"class","header-text svelte-e4uw79"),h(i,"class","stats-header svelte-e4uw79"),h(q,"viewBox","0 0 960 600"),h(q,"class","map-svg svelte-e4uw79"),h(U,"class","map-container svelte-e4uw79"),h(U,"role","img"),h(U,"aria-label","Interactive map of universities"),h(M,"class","map-legend svelte-e4uw79"),h(L,"class","map-section svelte-e4uw79"),h(W,"class","methodology-content svelte-e4uw79"),h(de,"class","svelte-e4uw79"),h(G,"class","faq-icon svelte-e4uw79"),h(me,"class","faq-question svelte-e4uw79"),h(ge,"class","faq-item svelte-e4uw79"),h(ue,"class","faq-icon svelte-e4uw79"),h(x,"class","faq-question svelte-e4uw79"),h($,"class","faq-item svelte-e4uw79"),h(ht,"class","faq-icon svelte-e4uw79"),h(Me,"class","faq-question svelte-e4uw79"),h(ke,"class","faq-item svelte-e4uw79"),h(pt,"class","faq-icon svelte-e4uw79"),h(tt,"class","faq-question svelte-e4uw79"),h(et,"class","faq-item svelte-e4uw79"),h(B,"class","faq-section svelte-e4uw79"),h(l,"class","content-wrapper svelte-e4uw79"),h(n,"class","container svelte-e4uw79"),h(e,"class","methodology-container svelte-e4uw79")},m(X,Ue){P(X,e,Ue),d(e,n),d(n,l),d(l,i),d(i,s),d(s,o),d(o,a),d(a,m),d(o,g),d(o,r),d(s,f),d(s,c),d(c,u),d(u,p),d(c,y),d(c,w),d(s,E),d(s,k),d(k,S),se.m(S,null),d(k,v),d(k,D),d(i,_),d(i,A),d(l,N),d(l,L),d(L,U),d(U,q),we.m(q,null),d(q,O);for(let Ee=0;Ee<ne.length;Ee+=1)ne[Ee]&&ne[Ee].m(q,null);d(U,H),re&&re.m(U,null),t[22](U),d(L,I),d(L,M),d(l,F),oe.m(l,null),d(l,V),d(l,W),d(l,le),d(l,B),d(B,de),d(B,Ce),d(B,ge),d(ge,me),d(me,Xe),d(me,Y),d(me,G),d(G,ce),d(ge,_e),fe&&fe.m(ge,null),d(B,ie),d(B,$),d($,x),d(x,Ae),d(x,Te),d(x,ue),d(ue,He),d($,Re),Le&&Le.m($,null),d(B,Ke),d(B,ke),d(ke,Me),d(Me,J),d(Me,be),d(Me,ht),d(ht,Ct),d(ke,Yt),Pe&&Pe.m(ke,null),d(B,Bt),d(B,et),d(et,tt),d(tt,qt),d(tt,Gt),d(tt,pt),d(pt,Ut),d(et,Jt),he&&he.m(et,null),Nt||(C=[ae(U,"mousemove",t[18]),ae(me,"click",t[28]),ae(x,"click",t[29]),ae(Me,"click",t[30]),ae(tt,"click",t[31])],Nt=!0)},p(X,Ue){if(Ue[0]&16384&&Q(m,X[14]),Ue[0]&8192&&Q(p,X[13]),K===(K=z(X))&&se?se.p(X,Ue):(se.d(1),se=K(X),se&&(se.c(),se.m(S,null))),Oe===(Oe=We(X))&&we?we.p(X,Ue):(we.d(1),we=Oe(X),we&&(we.c(),we.m(q,O))),Ue[0]&198664){je=Ne(X[11]);let Ee;for(Ee=0;Ee<je.length;Ee+=1){const Xn=Sl(X,je,Ee);ne[Ee]?ne[Ee].p(Xn,Ue):(ne[Ee]=Cl(Xn),ne[Ee].c(),ne[Ee].m(q,null))}for(;Ee<ne.length;Ee+=1)ne[Ee].d(1);ne.length=je.length}X[6]&&X[3]?re?re.p(X,Ue):(re=ql(X),re.c(),re.m(U,null)):re&&(re.d(1),re=null),rt===(rt=Vt(X,Ue))&&oe?oe.p(X,Ue):(oe.d(1),oe=rt(X),oe&&(oe.c(),oe.m(l,V))),Ue[0]&256&&ve!==(ve=X[8]===0?"−":"+")&&Q(ce,ve),X[8]===0?fe||(fe=Al(),fe.c(),fe.m(ge,null)):fe&&(fe.d(1),fe=null),Ue[0]&256&&qe!==(qe=X[8]===1?"−":"+")&&Q(He,qe),X[8]===1?Le||(Le=Rl(),Le.c(),Le.m($,null)):Le&&(Le.d(1),Le=null),Ue[0]&256&&dt!==(dt=X[8]===2?"−":"+")&&Q(Ct,dt),X[8]===2?Pe||(Pe=Ol(),Pe.c(),Pe.m(ke,null)):Pe&&(Pe.d(1),Pe=null),Ue[0]&256&&gt!==(gt=X[8]===3?"−":"+")&&Q(Ut,gt),X[8]===3?he||(he=jl(),he.c(),he.m(et,null)):he&&(he.d(1),he=null)},i:De,o:De,d(X){X&&T(e),se.d(),we.d(),Qe(ne,X),re&&re.d(),t[22](null),oe.d(),fe&&fe.d(),Le&&Le.d(),Pe&&Pe.d(),he&&he.d(),Nt=!1,Ve(C)}}}const Bs="https://2025-campus-data.s3.us-east-2.amazonaws.com/list.json",Gs="https://2025-campus-data.s3.us-east-2.amazonaws.com/data.json";function Js(t){const e={};return t.forEach(n=>{var i;let l=null;typeof n.date=="string"&&n.date?l=n.date.split("T")[0]:(i=n.date)!=null&&i.$date?l=n.date.$date.split("T")[0]:n.date instanceof Date&&(l=n.date.toISOString().split("T")[0]),l&&(e[l]=(e[l]||0)+1)}),e}function Vs(t){const e=Object.keys(t).filter(l=>l>="2025-01-01").sort();if(e.length===0)return[];const n={};return e.forEach(l=>{const i=new Date(l+"T00:00:00Z"),s=i.getUTCDay(),o=(s===0?-6:1)-s,a=new Date(i);a.setUTCDate(i.getUTCDate()+o);const m=a.toISOString().split("T")[0];n[m]=(n[m]||0)+(t[l]||0)}),Object.keys(n).filter(l=>l>="2025-01-01").sort().map(l=>[l,{count:n[l]}])}function Xs(t){const e={};return Object.keys(t).sort().forEach(n=>{const l=new Date(n);if(l.getFullYear()<2025)return;const i=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]={label:l.toLocaleDateString("en-US",{year:"numeric",month:"long"}),year:l.getFullYear(),month:l.getMonth(),days:{}}),e[i].days[l.getDate()]={dateStr:n,date:l,count:t[n]}}),e}function Ks(t,e,n){let l,i,s,o,a,m,g,r=null,f=0,c=0,u=!1,p=null,y=null;function w(Y){const G=y===Y;n(8,y=y===Y?null:Y),window.umami&&!G&&window.umami.track("faq-opened",{faq_index:Y})}let E=[],k=[],S={},v=!1,D=[{name:"Grand Valley State University",lat:42.9641221,lng:-85.8890404,state:"Michigan"},{name:"University of Rhode Island",lat:41.4862328,lng:-71.5306788,state:"Rhode Island"},{name:"University of California Berkeley",lat:37.8712141,lng:-122.255463,state:"California"},{name:"Whitman College",lat:46.0708191,lng:-118.3295895,state:"Washington"},{name:"Johns Hopkins University",lat:39.3299013,lng:-76.6205177,state:"Maryland"},{name:"University of Kentucky",lat:38.0306511,lng:-84.5039697,state:"Kentucky"},{name:"Yale University",lat:41.3163244,lng:-72.9223431,state:"Connecticut"},{name:"Fashion Institute of Technology",lat:40.7472624,lng:-73.9950292,state:"New York"},{name:"Ithaca College",lat:42.4199229,lng:-76.4969344,state:"New York"},{name:"State University of New York Rockland",lat:41.1489458,lng:-73.9830029,state:"New York"},{name:"University of Michigan",lat:42.277145,lng:-83.7382071,state:"Michigan"},{name:"Binghamton University",lat:42.0971204,lng:-75.9116546,state:"New York"},{name:"SUNY binghamton",lat:42.1128178,lng:-75.9542403,state:"New York"},{name:"University of Hawaii at Manoa",lat:21.2968676,lng:-157.8174491,state:"Hawaii"},{name:"Santa Monica College",lat:34.0167898,lng:-118.4709157,state:"California"},{name:"American University",lat:38.9380155,lng:-77.088922,state:"Washington DC"},{name:"University of Kansas",lat:38.9543439,lng:-95.2557961,state:"Kansas"},{name:"University of Delaware",lat:39.6809151,lng:-75.7523313,state:"Delaware"},{name:"Pomona College",lat:34.0977461,lng:-117.711806,state:"California"},{name:"University of Miami",lat:25.7169568,lng:-80.2798198,state:"Florida"},{name:"Illinois Wesleyan University",lat:40.4908891,lng:-88.9906541,state:"Illinois"},{name:"University of Southern Florida",lat:28.0622334,lng:-82.4135057,state:"Florida"},{name:"University of South Florida",lat:28.0622334,lng:-82.4135057,state:"Florida"},{name:"University of Oregon",lat:44.0448302,lng:-123.0726055,state:"Oregon"},{name:"University of North Dakota",lat:47.922891,lng:-97.0768014,state:"North Dakota"},{name:"University of Pennsylvania",lat:39.9515013,lng:-75.1910161,state:"Pennsylvania"},{name:"Emory University",lat:33.7973735,lng:-84.3252791,state:"Georgia"},{name:"Duke University",lat:36.0014258,lng:-78.9382286,state:"North Carolina"},{name:"University of California Davis",lat:38.5382322,lng:-121.7617125,state:"California"},{name:"Sarah Lawrence College",lat:40.93459,lng:-73.8455821,state:"New York"},{name:"Cal Poly Humboldt",lat:40.7450055,lng:-123.8695086,state:"California"},{name:"Georgetown University",lat:38.9076089,lng:-77.0722585,state:"Washington DC"},{name:"California State University Sacramento",lat:38.560824,lng:-121.423993,state:"California"},{name:"Montana State University",lat:45.6673524,lng:-111.0546211,state:"Montana"},{name:"Massachusetts Institute of Technology",lat:42.360091,lng:-71.09416,state:"Massachusetts"},{name:"University of Notre Dame",lat:41.7051917,lng:-86.2351655,state:"Indiana"},{name:"Rice University",lat:29.7168363,lng:-95.4035531,state:"Texas"},{name:"University of North Carolina",lat:35.9049122,lng:-79.0469134,state:"North Carolina"},{name:"Tulane University",lat:29.9407282,lng:-90.1203167,state:"Louisiana"},{name:"George Mason University",lat:38.8314578,lng:-77.3117471,state:"Virginia"},{name:"San Jose State University",lat:37.3351874,lng:-121.8810715,state:"California"},{name:"University of California",lat:36.778261,lng:-119.4179324,state:"California"},{name:"Drexel University",lat:39.9566127,lng:-75.1899441,state:"Pennsylvania"},{name:"New York University",lat:40.7295134,lng:-73.9964609,state:"New York"},{name:"University of Virginia",lat:38.0335529,lng:-78.5079772,state:"Virginia"},{name:"Scripps College",lat:34.1039624,lng:-117.7101787,state:"California"},{name:"Tufts University",lat:42.4085371,lng:-71.1182729,state:"Massachusetts"},{name:"Middlebury College",lat:44.0081076,lng:-73.1760412,state:"Vermont"},{name:"University of Washington",lat:47.6567171,lng:-122.3066181,state:"Washington"},{name:"Western Carolina University",lat:35.3090108,lng:-83.1863612,state:"North Carolina"},{name:"University of Wyoming",lat:41.3147175,lng:-105.5690288,state:"Wyoming"},{name:"UNC Chapel Hill",lat:35.9049122,lng:-79.0469134,state:"North Carolina"},{name:"Purchase College",lat:41.0400135,lng:-73.7144477,state:"New York"},{name:"Northwestern University",lat:42.0564594,lng:-87.675267,state:"Illinois"},{name:"Brown University",lat:41.8267718,lng:-71.4025482,state:"Rhode Island"},{name:"West Michigan University",lat:42.2837337,lng:-85.6102506,state:"Michigan"},{name:"University of New Mexico",lat:35.0907712,lng:-106.6210407,state:"New Mexico"},{name:"Emerson College",lat:42.352123,lng:-71.065877,state:"Massachusetts"},{name:"Lehigh University",lat:40.6054003,lng:-75.3771764,state:"Pennsylvania"},{name:"Washington State University",lat:46.7328316,lng:-117.1500266,state:"Washington"},{name:"Portland State University",lat:45.5111153,lng:-122.6833385,state:"Oregon"},{name:"University of Minnesota, Twin Cities",lat:44.9753541,lng:-93.2330739,state:"Minnesota"},{name:"University of Massachusetts",lat:42.3865581,lng:-72.5314278,state:"Massachusetts"},{name:"University of Chicago",lat:41.7904484,lng:-87.6003953,state:"Illinois"},{name:"Lafayette College",lat:40.6984713,lng:-75.2101079,state:"Pennsylvania"},{name:"University of Oklahoma",lat:35.1987162,lng:-97.4448963,state:"Oklahoma"},{name:"Union College",lat:42.8179321,lng:-73.9294347,state:"New York"},{name:"Haverford College",lat:40.0074423,lng:-75.3051299,state:"Pennsylvania"},{name:"University of Arkansas",lat:36.0686895,lng:-94.1748471,state:"Arkansas"},{name:"Stanford University",lat:37.42766,lng:-122.17006,state:"California"},{name:"Arizona State University",lat:33.4229975,lng:-111.9278306,state:"Arizona"},{name:"Wellesley College",lat:42.2935733,lng:-71.3059277,state:"Massachusetts"},{name:"Vanderbilt University",lat:36.1447034,lng:-86.8026551,state:"Tennessee"},{name:"Indiana University",lat:39.1682449,lng:-86.5230073,state:"Indiana"},{name:"University of Southern California",lat:34.0223519,lng:-118.285117,state:"California"},{name:"Temple University",lat:39.9811911,lng:-75.1553563,state:"Pennsylvania"},{name:"University of Alabama",lat:33.2114385,lng:-87.5401002,state:"Alabama"},{name:"Harvard University",lat:42.3744368,lng:-71.1182488,state:"Massachusetts"},{name:"Muhlenberg College",lat:40.5981933,lng:-75.5081076,state:"Pennsylvania"},{name:"Chapman University",lat:33.7943211,lng:-117.8518422,state:"California"},{name:"Eastern Washington University",lat:47.4906616,lng:-117.5847877,state:"Washington"},{name:"University of Louisville",lat:38.2157954,lng:-85.7614322,state:"Kentucky"},{name:"Georgia Institute of Technology",lat:33.7779791,lng:-84.3979638,state:"Georgia"},{name:"Cornell University",lat:42.4534492,lng:-76.4735027,state:"New York"},{name:"Swarthmore College",lat:39.903833,lng:-75.3526567,state:"Pennsylvania"},{name:"The Ohio State University",lat:40.0060889,lng:-83.0282624,state:"Ohio"},{name:"University of Denver",lat:39.6766174,lng:-104.9618965,state:"Colorado"},{name:"Washington University in St. Louis",lat:38.6487895,lng:-90.3107962,state:"Missouri"},{name:"University of North Texas",lat:33.2090389,lng:-97.153439,state:"Texas"},{name:"University of Utah",lat:40.7649368,lng:-111.8421021,state:"Utah"},{name:"Wagner College",lat:40.6149557,lng:-74.0943823,state:"New York"},{name:"University of Texas Arlington",lat:32.7292117,lng:-97.1151971,state:"Texas"},{name:"Carnegie Mellon University",lat:40.4432027,lng:-79.9428499,state:"Pennsylvania"},{name:"Columbia University",lat:40.8075355,lng:-73.9625727,state:"New York"},{name:"University of Wisconsin Madison",lat:43.0755143,lng:-89.4154526,state:"Wisconsin"},{name:"Rutgers University",lat:40.5017645,lng:-74.4479342,state:"New Jersey"},{name:"University of Tampa",lat:27.9468757,lng:-82.4672266,state:"Florida"},{name:"Towson University",lat:39.3919027,lng:-76.6124675,state:"Maryland"},{name:"Boston University",lat:42.3504997,lng:-71.1053991,state:"Massachusetts"},{name:"University of Colorado",lat:40.0073499,lng:-105.2659871,state:"Colorado"},{name:"University of Cincinnati",lat:39.1329219,lng:-84.5149504,state:"Ohio"},{name:"Princeton University",lat:40.3430942,lng:-74.6550739,state:"New Jersey"},{name:"The New School",lat:40.7354925,lng:-73.9971361,state:"New York"},{name:"Western Michigan University",lat:42.2837337,lng:-85.6102506,state:"Michigan"},{name:"Clemson University",lat:34.6749926,lng:-82.8406184,state:"South Carolina"},{name:"Boise State University",lat:43.6023364,lng:-116.2009765,state:"Idaho"},{name:"Pacific Lutheran University",lat:47.1451931,lng:-122.4436669,state:"Washington"},{name:"University of California Santa Barbara",lat:34.4139629,lng:-119.848947,state:"California"},{name:"University of Tennessee",lat:35.9544013,lng:-83.9294564,state:"Tennessee"},{name:"New England College of Optometry",lat:42.3519,lng:-71.0868,state:"Massachusetts"}];function _(Y){const G=new Map,ve=15;Y.forEach(_e=>{const ie=N(_e.lat,_e.lng);let $=null;for(const[x,Ae]of G.entries()){const[Te,ue]=x.split(",").map(Number);if(Math.sqrt(Math.pow(ie.x-Te,2)+Math.pow(ie.y-ue,2))<ve){$=x;break}}if($)G.get($).push({..._e,baseCoords:ie});else{const x=`${ie.x},${ie.y}`;G.set(x,[{..._e,baseCoords:ie}])}});const ce=[];for(const _e of G.values())_e.length===1?ce.push({..._e[0],displayCoords:_e[0].baseCoords}):_e.forEach(($,x)=>{const Ae=x/_e.length*2*Math.PI,Te=Math.cos(Ae)*8,ue=Math.sin(Ae)*8;ce.push({...$,displayCoords:{x:$.baseCoords.x+Te,y:$.baseCoords.y+ue}})});return ce}const A=Is().scale(1300).translate([480,300]);function N(Y,G){const ve=A([G,Y]);return ve?{x:ve[0],y:ve[1]}:{x:0,y:0}}function L(Y,G){n(3,r=Y),n(6,u=!0),q(G),window.umami&&window.umami.track("map-school-hover",{school:Y.name,state:Y.state})}function U(){n(3,r=null),n(6,u=!1)}function q(Y){if(g){const G=g.getBoundingClientRect();n(4,f=Y.clientX-G.left),n(5,c=Y.clientY-G.top),f>G.width-200&&n(4,f=f-200),c<60?n(5,c=c+20):n(5,c=c-60)}}function O(Y){u&&q(Y)}const H=ys().projection(A);function I(Y){return!Y||!Y.geometry?"":H(Y)||""}let M;nn(async()=>{M=Date.now();try{const Y=await fetch(Bs);Y.ok&&(E=await Y.json());const G=await fetch("https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json");if(G.ok){const ce=await G.json();n(7,p=Vi(ce,ce.objects.states))}n(9,v=!0);const ve=await fetch(Gs);ve.ok&&(n(0,k=await ve.json()),n(1,S=Js(k))),n(9,v=!1)}catch(Y){console.warn("Could not load data:",Y),n(9,v=!1)}return()=>{if(window.umami&&M){const Y=Math.round((Date.now()-M)/1e3);window.umami.track("methodology-time-spent",{seconds:Y,minutes:Math.round(Y/60)})}}});const F=(Y,G)=>L(Y,G);function Z(Y){yn[Y?"unshift":"push"](()=>{g=Y,n(2,g)})}const V=Y=>{const G=Y*1.1;return G<=500?500:G<=1e3?1e3:G<=1500?1500:G<=2e3?2e3:G<=2500?2500:Math.ceil(G/500)*500},W=Y=>Y<=500||Y<=1e3?5:Y<=2e3?4:5,le=(Y,G,ve,ce)=>Y/G*ce,B=(Y,G,ve,ce,_e,ie,$,x,[Ae,Te])=>{const ue=Y(Ae),qe=G+(ue-ve)/ce*_e,He=Te.count/ie*($-10),Ke=($-10)*((x.length-1)/(x.length-1))+5-He;return{x:qe,y:Ke,height:He,count:Te.count,date:Ae}},de=(Y,G,ve,ce)=>{const _e=[],ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],[$,x]=m[0][0].split("-").map(Number),[Ae,Te]=m[m.length-1][0].split("-").map(Number);let ue=$,qe=x;for(;ue<Ae||ue===Ae&&qe<=Te;){const Re=(Date.UTC(ue,qe-1,15)-Y)/G,Ke=ve+Re*ce,ke=qe-1,Me=qe===1?`${ie[ke]} ${ue}`:ie[ke];_e.push({x:Ke,label:Me}),qe++,qe>12&&(qe=1,ue++)}return _e},Ce=()=>w(0),ge=()=>w(1),me=()=>w(2),Xe=()=>w(3);return t.$$.update=()=>{t.$$.dirty[0]&1048576&&n(13,s=Object.keys(i).length),t.$$.dirty[0]&1&&n(12,o=k.length),t.$$.dirty[0]&2&&n(10,m=Vs(S)),t.$$.dirty[0]&2&&Xs(S)},n(14,l=D.length),n(20,i=D.reduce((Y,G)=>(G.state&&(Y[G.state]=(Y[G.state]||0)+1),Y),{})),n(11,a=_(D)),[k,S,g,r,f,c,u,p,y,v,m,a,o,s,l,w,L,U,O,I,i,F,Z,V,W,le,B,de,Ce,ge,me,Xe]}class Zs extends Yn{constructor(e){super(),zn(this,e,Ks,Ys,Fn,{},null,[-1,-1,-1])}}function Fl(t,e,n){const l=t.slice();return l[73]=e[n],l}function Hl(t,e,n){const l=t.slice();return l[76]=e[n],l}function Wl(t,e,n){const l=t.slice();return l[79]=e[n],l}function Qs(t){let e,n,l,i,s,o,a,m=t[6].length===0?"All Institutions":`${t[6].length} selected`,g,r,f,c=t[7]?"▲":"▼",u,p,y,w,E,k,S,v,D=t[5].length===0?"All Months":`${t[5].length} selected`,_,A,N,L=t[8]?"▲":"▼",U,q,O,H,I,M,F,Z,V,W,le,B,de,Ce,ge,me,Xe,Y,G,ve,ce,_e,ie=t[7]&&zl(t),$=t[8]&&Gl(t),x=t[18]&&Kl(t);function Ae(J,be){return J[19]?to:eo}let Te=Ae(t),ue=Te(t);function qe(J,be){return J[5].length===0&&J[6].length===0&&!J[2]?lo:no}let He=qe(t),Re=He(t);function Ke(J,be){return J[12]?vo:J[17]?mo:J[10].length?po:go}let ke=Ke(t),Me=ke(t);return{c(){e=b("section"),n=b("div"),l=b("div"),i=b("label"),i.textContent="Filter by Institution",s=j(),o=b("div"),a=b("button"),g=R(m),r=j(),f=b("span"),u=R(c),p=j(),ie&&ie.c(),y=j(),w=b("div"),E=b("label"),E.textContent="Filter by Month",k=j(),S=b("div"),v=b("button"),_=R(D),A=j(),N=b("span"),U=R(L),q=j(),$&&$.c(),O=j(),H=b("div"),I=b("div"),M=b("div"),F=b("input"),Z=j(),V=b("div"),V.innerHTML='<span class="search-help-label svelte-rw59qt">i</span> <div class="search-help-tooltip svelte-rw59qt"><p class="search-help-tooltip-text svelte-rw59qt"><strong>Single or multiple words</strong>: search with one word or several words; results rank higher when more of your words appear; multi-word searches do not require the words to appear together or in order.</p> <p class="search-help-tooltip-text svelte-rw59qt"><strong>Exact phrase</strong>: use double quotes (&quot;&quot;) to match exact wording, for example &quot;campus safety&quot;; note that it may take longer to process.</p> <p class="search-help-tooltip-text svelte-rw59qt"><strong>Letters only</strong>: numbers and special characters are not supported in search.</p></div>',W=j(),x&&x.c(),le=j(),B=b("button"),ue.c(),Ce=j(),ge=b("section"),me=b("div"),Xe=b("h3"),Xe.textContent="Results",Y=j(),G=b("p"),Re.c(),ve=j(),Me.c(),h(i,"for","institution-dropdown"),h(i,"class","svelte-rw59qt"),h(f,"class","dropdown-arrow svelte-rw59qt"),h(a,"id","institution-dropdown"),h(a,"class","dropdown-toggle svelte-rw59qt"),h(a,"type","button"),h(o,"class","multi-select-dropdown svelte-rw59qt"),h(l,"class","filter-group svelte-rw59qt"),h(E,"for","month-dropdown"),h(E,"class","svelte-rw59qt"),h(N,"class","dropdown-arrow svelte-rw59qt"),h(v,"id","month-dropdown"),h(v,"class","dropdown-toggle svelte-rw59qt"),h(v,"type","button"),h(S,"class","multi-select-dropdown svelte-rw59qt"),h(w,"class","filter-group svelte-rw59qt"),h(n,"class","filters-grid svelte-rw59qt"),h(F,"id","search-input"),h(F,"type","text"),h(F,"placeholder","Search title, institution, or content..."),h(F,"class","search-input svelte-rw59qt"),h(V,"class","search-help svelte-rw59qt"),h(V,"tabindex","0"),h(V,"aria-label","Search tips"),h(M,"class","search-input-row svelte-rw59qt"),h(I,"class","search-wrapper svelte-rw59qt"),h(B,"class","export-btn svelte-rw59qt"),B.disabled=de=t[19]||t[12]||t[9].length===0,h(H,"class","search-export-row svelte-rw59qt"),h(e,"class","filters-section svelte-rw59qt"),h(G,"class","results-meta"),h(me,"class","results-header svelte-rw59qt"),h(ge,"class","results-section svelte-rw59qt")},m(J,be){P(J,e,be),d(e,n),d(n,l),d(l,i),d(l,s),d(l,o),d(o,a),d(a,g),d(a,r),d(a,f),d(f,u),d(o,p),ie&&ie.m(o,null),d(n,y),d(n,w),d(w,E),d(w,k),d(w,S),d(S,v),d(v,_),d(v,A),d(v,N),d(N,U),d(S,q),$&&$.m(S,null),d(e,O),d(e,H),d(H,I),d(I,M),d(M,F),st(F,t[2]),d(M,Z),d(M,V),d(I,W),x&&x.m(I,null),d(H,le),d(H,B),ue.m(B,null),P(J,Ce,be),P(J,ge,be),d(ge,me),d(me,Xe),d(me,Y),d(me,G),Re.m(G,null),d(ge,ve),Me.m(ge,null),ce||(_e=[ae(a,"click",tn(t[36])),ae(v,"click",tn(t[39])),ae(F,"input",t[43]),ae(F,"input",t[29]),ae(B,"click",t[30])],ce=!0)},p(J,be){be[0]&64&&m!==(m=J[6].length===0?"All Institutions":`${J[6].length} selected`)&&Q(g,m),be[0]&128&&c!==(c=J[7]?"▲":"▼")&&Q(u,c),J[7]?ie?ie.p(J,be):(ie=zl(J),ie.c(),ie.m(o,null)):ie&&(ie.d(1),ie=null),be[0]&32&&D!==(D=J[5].length===0?"All Months":`${J[5].length} selected`)&&Q(_,D),be[0]&256&&L!==(L=J[8]?"▲":"▼")&&Q(U,L),J[8]?$?$.p(J,be):($=Gl(J),$.c(),$.m(S,null)):$&&($.d(1),$=null),be[0]&4&&F.value!==J[2]&&st(F,J[2]),J[18]?x?x.p(J,be):(x=Kl(J),x.c(),x.m(I,null)):x&&(x.d(1),x=null),Te===(Te=Ae(J))&&ue?ue.p(J,be):(ue.d(1),ue=Te(J),ue&&(ue.c(),ue.m(B,null))),be[0]&528896&&de!==(de=J[19]||J[12]||J[9].length===0)&&(B.disabled=de),He===(He=qe(J))&&Re?Re.p(J,be):(Re.d(1),Re=He(J),Re&&(Re.c(),Re.m(G,null))),ke===(ke=Ke(J))&&Me?Me.p(J,be):(Me.d(1),Me=ke(J),Me&&(Me.c(),Me.m(ge,null)))},d(J){J&&(T(e),T(Ce),T(ge)),ie&&ie.d(),$&&$.d(),x&&x.d(),ue.d(),Re.d(),Me.d(),ce=!1,Ve(_e)}}}function $s(t){let e,n,l,i,s,o,a,m,g;return{c(){e=b("div"),n=b("p"),l=b("strong"),l.textContent="Error loading data:",i=j(),s=R(t[13]),o=j(),a=b("button"),a.textContent="Retry",h(a,"class","retry-btn svelte-rw59qt"),h(e,"class","error svelte-rw59qt")},m(r,f){P(r,e,f),d(e,n),d(n,l),d(n,i),d(n,s),d(e,o),d(e,a),m||(g=ae(a,"click",t[24]),m=!0)},p(r,f){f[0]&8192&&Q(s,r[13])},d(r){r&&T(e),m=!1,g()}}}function xs(t){let e;return{c(){e=b("div"),e.innerHTML='<div class="spinner svelte-rw59qt"></div> <p>Loading database...</p>',h(e,"class","loading svelte-rw59qt")},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function zl(t){let e,n,l,i,s,o,a,m,g=Ne(t[22]),r=[];for(let c=0;c<g.length;c+=1)r[c]=Yl(Wl(t,g,c));let f=t[6].length>0&&Bl(t);return{c(){e=b("div"),n=b("div"),l=b("input"),i=j(),s=b("div");for(let c=0;c<r.length;c+=1)r[c].c();o=j(),f&&f.c(),h(l,"type","text"),h(l,"placeholder","Search institutions..."),h(l,"class","svelte-rw59qt"),h(n,"class","dropdown-search svelte-rw59qt"),h(s,"class","dropdown-options svelte-rw59qt"),h(e,"class","dropdown-menu svelte-rw59qt")},m(c,u){P(c,e,u),d(e,n),d(n,l),st(l,t[0]),d(e,i),d(e,s);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(s,null);d(e,o),f&&f.m(e,null),a||(m=[ae(l,"input",t[37]),ae(l,"click",tn(t[35]))],a=!0)},p(c,u){if(u[0]&1&&l.value!==c[0]&&st(l,c[0]),u[0]&71303232){g=Ne(c[22]);let p;for(p=0;p<g.length;p+=1){const y=Wl(c,g,p);r[p]?r[p].p(y,u):(r[p]=Yl(y),r[p].c(),r[p].m(s,null))}for(;p<r.length;p+=1)r[p].d(1);r.length=g.length}c[6].length>0?f?f.p(c,u):(f=Bl(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(c){c&&T(e),Qe(r,c),f&&f.d(),a=!1,Ve(m)}}}function Yl(t){let e,n,l,i,s,o,a=t[79]+"",m,g,r,f;function c(...u){return t[38](t[79],...u)}return{c(){e=b("label"),n=b("input"),s=j(),o=b("span"),m=R(a),g=j(),h(n,"type","checkbox"),n.value=l=t[79],n.checked=i=t[6].includes(t[79]),h(n,"class","svelte-rw59qt"),h(e,"class","dropdown-option svelte-rw59qt")},m(u,p){P(u,e,p),d(e,n),d(e,s),d(e,o),d(o,m),d(e,g),r||(f=ae(n,"change",c),r=!0)},p(u,p){t=u,p[0]&4194304&&l!==(l=t[79])&&(n.value=l),p[0]&4194368&&i!==(i=t[6].includes(t[79]))&&(n.checked=i),p[0]&4194304&&a!==(a=t[79]+"")&&Q(m,a)},d(u){u&&T(e),r=!1,f()}}}function Bl(t){let e,n,l;return{c(){e=b("button"),e.textContent="Clear Selection",h(e,"class","clear-selection svelte-rw59qt"),h(e,"type","button")},m(i,s){P(i,e,s),n||(l=ae(e,"click",t[28]),n=!0)},p:De,d(i){i&&T(e),n=!1,l()}}}function Gl(t){let e,n,l,i,s,o,a,m,g,r=Ne(t[21]),f=[];for(let p=0;p<r.length;p+=1)f[p]=Jl(Hl(t,r,p));let c=t[4].length&&t[20]&&Vl(t),u=t[5].length>0&&Xl(t);return{c(){e=b("div"),n=b("div"),l=b("input"),i=j(),s=b("div");for(let p=0;p<f.length;p+=1)f[p].c();o=j(),c&&c.c(),a=j(),u&&u.c(),h(l,"type","text"),h(l,"placeholder","Search months..."),h(l,"class","svelte-rw59qt"),h(n,"class","dropdown-search svelte-rw59qt"),h(s,"class","dropdown-options svelte-rw59qt"),h(e,"class","dropdown-menu svelte-rw59qt")},m(p,y){P(p,e,y),d(e,n),d(n,l),st(l,t[1]),d(e,i),d(e,s);for(let w=0;w<f.length;w+=1)f[w]&&f[w].m(s,null);d(s,o),c&&c.m(s,null),d(e,a),u&&u.m(e,null),m||(g=[ae(l,"input",t[40]),ae(l,"click",tn(t[34]))],m=!0)},p(p,y){if(y[0]&2&&l.value!==p[1]&&st(l,p[1]),y[0]&35651616){r=Ne(p[21]);let w;for(w=0;w<r.length;w+=1){const E=Hl(p,r,w);f[w]?f[w].p(E,y):(f[w]=Jl(E),f[w].c(),f[w].m(s,o))}for(;w<f.length;w+=1)f[w].d(1);f.length=r.length}p[4].length&&p[20]?c?c.p(p,y):(c=Vl(p),c.c(),c.m(s,null)):c&&(c.d(1),c=null),p[5].length>0?u?u.p(p,y):(u=Xl(p),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(p){p&&T(e),Qe(f,p),c&&c.d(),u&&u.d(),m=!1,Ve(g)}}}function Jl(t){let e,n,l,i,s,o,a=zt(t[76])+"",m,g,r;function f(...c){return t[41](t[76],...c)}return{c(){e=b("label"),n=b("input"),s=j(),o=b("span"),m=R(a),h(n,"type","checkbox"),n.value=l=t[76],n.checked=i=t[5].includes(t[76]),h(n,"class","svelte-rw59qt"),h(e,"class","dropdown-option svelte-rw59qt")},m(c,u){P(c,e,u),d(e,n),d(e,s),d(e,o),d(o,m),g||(r=ae(n,"change",f),g=!0)},p(c,u){t=c,u[0]&2097152&&l!==(l=t[76])&&(n.value=l),u[0]&2097184&&i!==(i=t[5].includes(t[76]))&&(n.checked=i),u[0]&2097152&&a!==(a=zt(t[76])+"")&&Q(m,a)},d(c){c&&T(e),g=!1,r()}}}function Vl(t){let e,n,l,i,s,o,a;return{c(){e=b("label"),n=b("input"),i=j(),s=b("span"),s.textContent="No Date",h(n,"type","checkbox"),n.value=Ye,n.checked=l=t[5].includes(Ye),h(n,"class","svelte-rw59qt"),h(e,"class","dropdown-option svelte-rw59qt")},m(m,g){P(m,e,g),d(e,n),d(e,i),d(e,s),o||(a=ae(n,"change",t[42]),o=!0)},p(m,g){g[0]&32&&l!==(l=m[5].includes(Ye))&&(n.checked=l)},d(m){m&&T(e),o=!1,a()}}}function Xl(t){let e,n,l;return{c(){e=b("button"),e.textContent="Clear Selection",h(e,"class","clear-selection svelte-rw59qt"),h(e,"type","button")},m(i,s){P(i,e,s),n||(l=ae(e,"click",t[27]),n=!0)},p:De,d(i){i&&T(e),n=!1,l()}}}function Kl(t){let e,n,l;return{c(){e=b("span"),n=R("Search error: "),l=R(t[18]),h(e,"class","search-status error-text svelte-rw59qt")},m(i,s){P(i,e,s),d(e,n),d(e,l)},p(i,s){s[0]&262144&&Q(l,i[18])},d(i){i&&T(e)}}}function eo(t){let e,n=t[9].length.toLocaleString()+"",l,i;return{c(){e=R("Export "),l=R(n),i=R(" items to CSV")},m(s,o){P(s,e,o),P(s,l,o),P(s,i,o)},p(s,o){o[0]&512&&n!==(n=s[9].length.toLocaleString()+"")&&Q(l,n)},d(s){s&&(T(e),T(l),T(i))}}}function to(t){let e,n;return{c(){e=b("span"),n=R(`
                Exporting...`),h(e,"class","btn-spinner svelte-rw59qt")},m(l,i){P(l,e,i),P(l,n,i)},p:De,d(l){l&&(T(e),T(n))}}}function no(t){let e,n=t[10].length+"",l,i,s,o,a,m,g,r;function f(k,S){if(k[6].length===1)return so;if(k[6].length>1)return io}let c=f(t),u=c&&c(t);function p(k,S){return k[5].length===0?ao:k[5].length===1?ro:oo}let y=p(t),w=y(t),E=t[2]&&Ql(t);return{c(){e=R("Showing "),l=R(n),i=R(` article(s)
                `),u&&u.c(),s=j(),w.c(),o=j(),E&&E.c(),a=R(`
                — page `),m=R(t[14]),g=R(" of "),r=R(t[15])},m(k,S){P(k,e,S),P(k,l,S),P(k,i,S),u&&u.m(k,S),P(k,s,S),w.m(k,S),P(k,o,S),E&&E.m(k,S),P(k,a,S),P(k,m,S),P(k,g,S),P(k,r,S)},p(k,S){S[0]&1024&&n!==(n=k[10].length+"")&&Q(l,n),c===(c=f(k))&&u?u.p(k,S):(u&&u.d(1),u=c&&c(k),u&&(u.c(),u.m(s.parentNode,s))),y===(y=p(k))&&w?w.p(k,S):(w.d(1),w=y(k),w&&(w.c(),w.m(o.parentNode,o))),k[2]?E?E.p(k,S):(E=Ql(k),E.c(),E.m(a.parentNode,a)):E&&(E.d(1),E=null),S[0]&16384&&Q(m,k[14]),S[0]&32768&&Q(r,k[15])},d(k){k&&(T(e),T(l),T(i),T(s),T(o),T(a),T(m),T(g),T(r)),u&&u.d(k),w.d(k),E&&E.d(k)}}}function lo(t){let e,n=t[10].length+"",l,i,s,o,a;return{c(){e=R("Showing "),l=R(n),i=R(" article(s) — page "),s=R(t[14]),o=R(" of "),a=R(t[15])},m(m,g){P(m,e,g),P(m,l,g),P(m,i,g),P(m,s,g),P(m,o,g),P(m,a,g)},p(m,g){g[0]&1024&&n!==(n=m[10].length+"")&&Q(l,n),g[0]&16384&&Q(s,m[14]),g[0]&32768&&Q(a,m[15])},d(m){m&&(T(e),T(l),T(i),T(s),T(o),T(a))}}}function io(t){let e,n=t[6].length+"",l,i;return{c(){e=R("from "),l=R(n),i=R(" institutions")},m(s,o){P(s,e,o),P(s,l,o),P(s,i,o)},p(s,o){o[0]&64&&n!==(n=s[6].length+"")&&Q(l,n)},d(s){s&&(T(e),T(l),T(i))}}}function so(t){let e,n=t[6][0]+"",l;return{c(){e=R("from "),l=R(n)},m(i,s){P(i,e,s),P(i,l,s)},p(i,s){s[0]&64&&n!==(n=i[6][0]+"")&&Q(l,n)},d(i){i&&(T(e),T(l))}}}function oo(t){let e,n=t[5].length+"",l,i,s=t[5].includes(Ye),o,a=s&&Zl();return{c(){e=R("in "),l=R(n),i=R(` month selections
                  `),a&&a.c(),o=Et()},m(m,g){P(m,e,g),P(m,l,g),P(m,i,g),a&&a.m(m,g),P(m,o,g)},p(m,g){g[0]&32&&n!==(n=m[5].length+"")&&Q(l,n),g[0]&32&&(s=m[5].includes(Ye)),s?a||(a=Zl(),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(m){m&&(T(e),T(l),T(i),T(o)),a&&a.d(m)}}}function ro(t){let e;function n(s,o){return s[5][0]===Ye?uo:co}let l=n(t),i=l(t);return{c(){i.c(),e=Et()},m(s,o){i.m(s,o),P(s,e,o)},p(s,o){l===(l=n(s))&&i?i.p(s,o):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&T(e),i.d(s)}}}function ao(t){let e;return{c(){e=R("across all months")},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function Zl(t){let e;return{c(){e=R("(includes No Date)")},m(n,l){P(n,e,l)},d(n){n&&T(e)}}}function co(t){let e,n=zt(t[5][0])+"",l;return{c(){e=R("in "),l=R(n)},m(i,s){P(i,e,s),P(i,l,s)},p(i,s){s[0]&32&&n!==(n=zt(i[5][0])+"")&&Q(l,n)},d(i){i&&(T(e),T(l))}}}function uo(t){let e;return{c(){e=R("with no date")},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function Ql(t){let e;function n(s,o){return s[23]?ho:fo}let l=n(t),i=l(t);return{c(){i.c(),e=Et()},m(s,o){i.m(s,o),P(s,e,o)},p(s,o){l===(l=n(s))&&i?i.p(s,o):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&T(e),i.d(s)}}}function fo(t){let e,n,l;return{c(){e=R("matching “"),n=R(t[2]),l=R("”")},m(i,s){P(i,e,s),P(i,n,s),P(i,l,s)},p(i,s){s[0]&4&&Q(n,i[2])},d(i){i&&(T(e),T(n),T(l))}}}function ho(t){let e,n,l;return{c(){e=R("matching exact phrase “"),n=R(t[3]),l=R("”")},m(i,s){P(i,e,s),P(i,n,s),P(i,l,s)},p(i,s){s[0]&8&&Q(n,i[3])},d(i){i&&(T(e),T(n),T(l))}}}function po(t){let e,n,l,i,s,o,a,m,g,r,f,c,u,p,y,w,E,k,S,v,D,_,A,N,L,U,q,O,H,I,M,F,Z=Ne(t[10]),V=[];for(let W=0;W<Z.length;W+=1)V[W]=ei(Fl(t,Z,W));return{c(){e=b("div");for(let W=0;W<V.length;W+=1)V[W].c();n=j(),l=b("div"),i=b("button"),s=R("First"),a=j(),m=b("button"),g=R("Previous"),f=j(),c=b("span"),u=R("Page "),p=R(t[14]),y=R(" of "),w=R(t[15]),E=j(),k=b("label"),S=R(`Page
                `),v=b("input"),D=j(),_=b("button"),_.textContent="Go",A=j(),N=b("button"),L=R("Next"),q=j(),O=b("button"),H=R("Last"),h(e,"class","results-list svelte-rw59qt"),h(i,"class","page-btn svelte-rw59qt"),i.disabled=o=t[14]===1||t[12],h(m,"class","page-btn svelte-rw59qt"),m.disabled=r=t[14]===1||t[12],h(c,"class","page-info svelte-rw59qt"),h(v,"type","number"),h(v,"min","1"),h(v,"max",t[15]),h(v,"class","goto-input svelte-rw59qt"),h(_,"type","button"),h(_,"class","page-btn svelte-rw59qt"),h(k,"class","page-info svelte-rw59qt"),h(N,"class","page-btn svelte-rw59qt"),N.disabled=U=t[14]===t[15]||t[12],h(O,"class","page-btn svelte-rw59qt"),O.disabled=I=t[14]===t[15]||t[12],h(l,"class","pagination svelte-rw59qt")},m(W,le){P(W,e,le);for(let B=0;B<V.length;B+=1)V[B]&&V[B].m(e,null);P(W,n,le),P(W,l,le),d(l,i),d(i,s),d(l,a),d(l,m),d(m,g),d(l,f),d(l,c),d(c,u),d(c,p),d(c,y),d(c,w),d(l,E),d(l,k),d(k,S),d(k,v),st(v,t[16]),d(k,D),d(k,_),d(l,A),d(l,N),d(N,L),d(l,q),d(l,O),d(O,H),M||(F=[ae(i,"click",t[44]),ae(m,"click",t[45]),ae(v,"input",t[46]),ae(v,"change",t[47]),ae(_,"click",t[48]),ae(N,"click",t[49]),ae(O,"click",t[50])],M=!0)},p(W,le){if(le[0]&1028){Z=Ne(W[10]);let B;for(B=0;B<Z.length;B+=1){const de=Fl(W,Z,B);V[B]?V[B].p(de,le):(V[B]=ei(de),V[B].c(),V[B].m(e,null))}for(;B<V.length;B+=1)V[B].d(1);V.length=Z.length}le[0]&20480&&o!==(o=W[14]===1||W[12])&&(i.disabled=o),le[0]&20480&&r!==(r=W[14]===1||W[12])&&(m.disabled=r),le[0]&16384&&Q(p,W[14]),le[0]&32768&&Q(w,W[15]),le[0]&32768&&h(v,"max",W[15]),le[0]&65536&&ri(v.value)!==W[16]&&st(v,W[16]),le[0]&53248&&U!==(U=W[14]===W[15]||W[12])&&(N.disabled=U),le[0]&53248&&I!==(I=W[14]===W[15]||W[12])&&(O.disabled=I)},d(W){W&&(T(e),T(n),T(l)),Qe(V,W),M=!1,Ve(F)}}}function go(t){let e;return{c(){e=b("p"),e.textContent="No articles found."},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function mo(t){let e;return{c(){e=b("div"),e.innerHTML='<div class="spinner svelte-rw59qt"></div> <p>Loading database...</p>',h(e,"class","loading svelte-rw59qt")},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function vo(t){let e;return{c(){e=b("div"),e.innerHTML='<div class="spinner svelte-rw59qt"></div> <p>Loading database...</p>',h(e,"class","loading svelte-rw59qt")},m(n,l){P(n,e,l)},p:De,d(n){n&&T(e)}}}function _o(t){let e,n=ot(t[73].title,t[2])+"",l;return{c(){e=new Di(!1),l=Et(),e.a=l},m(i,s){e.m(n,i,s),P(i,l,s)},p(i,s){s[0]&1028&&n!==(n=ot(i[73].title,i[2])+"")&&e.p(n)},d(i){i&&(T(l),e.d())}}}function wo(t){let e,n=ot(t[73].title,t[2])+"",l;return{c(){e=b("a"),h(e,"href",l=t[73].url),h(e,"target","_blank"),h(e,"rel","noopener noreferrer"),h(e,"class","svelte-rw59qt")},m(i,s){P(i,e,s),e.innerHTML=n},p(i,s){s[0]&1028&&n!==(n=ot(i[73].title,i[2])+"")&&(e.innerHTML=n),s[0]&1024&&l!==(l=i[73].url)&&h(e,"href",l)},d(i){i&&T(e)}}}function $l(t){let e,n=ot(t[73].org,t[2])+"";return{c(){e=b("span"),h(e,"class","result-school svelte-rw59qt")},m(l,i){P(l,e,i),e.innerHTML=n},p(l,i){i[0]&1028&&n!==(n=ot(l[73].org,l[2])+"")&&(e.innerHTML=n)},d(l){l&&T(e)}}}function xl(t){let e,n=ot(ii(t[73].content,t[2]),t[2])+"";return{c(){e=b("p"),h(e,"class","result-excerpt svelte-rw59qt")},m(l,i){P(l,e,i),e.innerHTML=n},p(l,i){i[0]&1028&&n!==(n=ot(ii(l[73].content,l[2]),l[2])+"")&&(e.innerHTML=n)},d(l){l&&T(e)}}}function ei(t){let e,n,l,i,s,o,a=li(t[73].date)+"",m,g,r;function f(w,E){return w[73].url?wo:_o}let c=f(t),u=c(t),p=t[73].org&&$l(t),y=t[73].content&&xl(t);return{c(){e=b("article"),n=b("div"),l=b("h4"),u.c(),i=j(),p&&p.c(),s=j(),o=b("p"),m=R(a),g=j(),y&&y.c(),r=j(),h(l,"class","result-title svelte-rw59qt"),h(n,"class","result-header svelte-rw59qt"),h(o,"class","result-date svelte-rw59qt"),h(e,"class","result-card svelte-rw59qt")},m(w,E){P(w,e,E),d(e,n),d(n,l),u.m(l,null),d(n,i),p&&p.m(n,null),d(e,s),d(e,o),d(o,m),d(e,g),y&&y.m(e,null),d(e,r)},p(w,E){c===(c=f(w))&&u?u.p(w,E):(u.d(1),u=c(w),u&&(u.c(),u.m(l,null))),w[73].org?p?p.p(w,E):(p=$l(w),p.c(),p.m(n,null)):p&&(p.d(1),p=null),E[0]&1024&&a!==(a=li(w[73].date)+"")&&Q(m,a),w[73].content?y?y.p(w,E):(y=xl(w),y.c(),y.m(e,r)):y&&(y.d(1),y=null)},d(w){w&&T(e),u.d(),p&&p.d(),y&&y.d()}}}function yo(t){let e,n,l,i,s,o,a,m,g,r,f,c,u,p,y,w;function E(v,D){return v[11]?xs:v[13]?$s:Qs}let k=E(t),S=k(t);return{c(){e=b("div"),n=b("div"),l=b("div"),i=b("h2"),i.textContent="Database Search",s=j(),o=b("section"),a=b("div"),m=b("div"),g=b("span"),g.textContent="As of",r=j(),f=b("span"),f.textContent=`${qo}`,c=j(),u=b("div"),u.innerHTML='<span class="meta-label svelte-rw59qt">Maintained By</span> <span class="meta-value svelte-rw59qt"><a href="https://towcenter.columbia.edu/" target="_blank" rel="noopener noreferrer" class="svelte-rw59qt">Tow Center for Digital Journalism</a></span>',p=j(),y=b("section"),y.innerHTML=`<p class="lead svelte-rw59qt">Search and filter through all institutional responses. Use the filters below to narrow results by institution,
          date, or keyword, then download your filtered results.</p>`,w=j(),S.c(),h(i,"class","svelte-rw59qt"),h(g,"class","meta-label svelte-rw59qt"),h(f,"class","meta-value svelte-rw59qt"),h(m,"class","meta-item svelte-rw59qt"),h(u,"class","meta-item svelte-rw59qt"),h(a,"class","meta-details svelte-rw59qt"),h(o,"class","database-meta svelte-rw59qt"),h(y,"class","intro svelte-rw59qt"),h(l,"class","content-wrapper svelte-rw59qt"),h(n,"class","container svelte-rw59qt"),h(e,"class","database-container svelte-rw59qt")},m(v,D){P(v,e,D),d(e,n),d(n,l),d(l,i),d(l,s),d(l,o),d(o,a),d(a,m),d(m,g),d(m,r),d(m,f),d(a,c),d(a,u),d(l,p),d(l,y),d(l,w),S.m(l,null)},p(v,D){k===(k=E(v))&&S?S.p(v,D):(S.d(1),S=k(v),S&&(S.c(),S.m(l,null)))},i:De,o:De,d(v){v&&T(e),S.d()}}}const bo="https://2025-campus-data.s3.us-east-2.amazonaws.com/month_index.json",ko="https://2025-campus-data.s3.us-east-2.amazonaws.com/institution_index.json",So="https://2025-campus-data.s3.us-east-2.amazonaws.com/articles",Mo="https://2025-campus-data.s3.us-east-2.amazonaws.com/search_index",Eo="https://2025-campus-data.s3.us-east-2.amazonaws.com/data.json",Ye="_no_date",Co="_no_org",qo="December 6, 2024",_n=20;function ti(t){if(!t)return null;const e=t[0].toLowerCase();return e>="a"&&e<="z"?e:null}function Wt(t){return t.trim().toLowerCase().split(/\s+/).map(e=>e.replace(/^"+|"+$/g,"")).filter(Boolean)}function ni(t){const n=(t||"").trim().match(/^"(.*)"$/);return n&&n[1].trim()||null}function Uo(t){var e;return t&&(t.id||((e=t._id)==null?void 0:e.$oid)||t._id||t.document_id)||null}function No(t){return t.map(e=>{const{llm_response:n,scraper:l,...i}=e;return i})}function zt(t){if(!t||t==="ALL")return"All Months";if(t===Ye)return"No Date";const[e,n]=t.split("-"),l=Number(e),i=Number(n);return!l||!i?t:new Date(Date.UTC(l,i-1,1)).toLocaleDateString("en-US",{year:"numeric",month:"long",timeZone:"UTC"})}function li(t){if(!t)return"Date unknown";const e=new Date(t);return isFinite(e)?e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"Date unknown"}function Vn(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wn(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):""}function Ui(t,e="gi"){const n=Wt(t);if(!n.length)return null;const l=n.map(i=>{const s=Vn(i);return/^[a-z0-9]+$/i.test(i)?`\\b${s}\\b`:s});return new RegExp(`(${l.join("|")})`,e)}function Ni(t,e="gi"){const n=Wt(t);if(n.length<2)return null;const l=n.map(i=>{const s=Vn(i);return/^[a-z0-9]+$/i.test(i)?`\\b${s}\\b`:s});return new RegExp(`(${l.join("\\s+")})`,e)}function ot(t,e){if(!t)return"";const n=Ni(e,"gi"),l=Ui(e,"gi");if(!l)return wn(t);let i=l;return n&&(n.lastIndex=0,n.test(t)&&(i=n),n.lastIndex=0),t.split(i).map((o,a)=>a%2===1?`<mark>${wn(o)}</mark>`:wn(o)).join("")}function ii(t,e,n=280,l=120){if(!t)return"";const i=()=>{let U=t.slice(0,n);const q=U.lastIndexOf(" ");return q>0&&t.length>n?(U=U.slice(0,q),U+"…"):t.length>n?U+"…":U},s=Ni(e,"i"),o=Ui(e,"i"),a=30;if(!s&&!o)return i();const m=U=>{if(!U)return[];const q=U.flags.includes("g")?U.flags:`${U.flags}g`,O=new RegExp(U.source,q),H=[];let I;for(;(I=O.exec(t))!==null;)H.push({index:I.index,length:I[0].length,text:I[0]}),I[0].length===0&&(O.lastIndex+=1);return H},g=(U,q)=>{let O=Math.max(0,U),H=Math.min(t.length,q);if(O>0){const I=t.lastIndexOf(" ",O);I!==-1&&(O=I+1)}if(H<t.length){const I=t.indexOf(" ",H);I!==-1&&(H=I)}return{start:O,end:H}},r=(U,q,O=!0,H=!0)=>{const{start:I,end:M}=g(U,q);let F=t.slice(I,M);return I>0&&O&&(F="…"+F),M<t.length&&H&&(F=F+"…"),F},f=(U,q)=>{if(U.length<=q)return U;let O=U.slice(0,Math.max(0,q-1));const H=O.lastIndexOf(" ");return H>0&&H>O.length-20&&(O=O.slice(0,H)),O.replace(/…?$/,"")+"…"},c=(U,q)=>{const O=[...U].sort((F,Z)=>F.index-Z.index),H=[];let I=O[0].index-q,M=O[0].index+O[0].length+q;for(let F=1;F<O.length;F++){const Z=O[F],V=Z.index-q,W=Z.index+Z.length+q;V<=M?M=Math.max(M,W):(H.push(g(I,M)),I=V,M=W)}return H.push(g(I,M)),H},u=U=>U.reduce((q,O,H)=>{const I=O.end-O.start,M=O.start>0?1:0,F=O.end<t.length?1:0,Z=H>0?1:0;return q+I+M+F+Z},0),p=m(s);if(p.length>0){const{index:U,length:q}=p[0];let O=r(U-l,U+q+l);return O.length>n&&(O=f(O,n)),O}const y=m(o);if(!y.length)return i();const w=new Set(Wt(e).map(U=>U.toLowerCase()));let E=Math.min(l,Math.floor(n/Math.max(y.length,1)/2));E=Math.max(a,E);let k=c(y,E);for(;k.length>1&&E>a&&!(u(k)<=n);){const q=Math.max(a,Math.floor(E*.75));if(q===E)break;E=q,k=c(y,E)}const S=k.map(()=>new Set);y.forEach(U=>{const q=U.text?U.text.toLowerCase():"";if(!w.has(q))return;const O=k.findIndex(H=>U.index>=H.start&&U.index<=H.end);O!==-1&&S[O].add(q)});const v=[],D=[],_=new Set;k.forEach((U,q)=>{const O=S[q];Array.from(O).some(I=>!_.has(I))?(O.forEach(I=>_.add(I)),v.push({seg:U,idx:q})):D.push({seg:U,idx:q})});const A=[...v,...D];let N=n;const L=[];for(let U=0;U<A.length&&N>0;U++){const{seg:q}=A[U],O=L.length?" ":"",H=N-O.length;if(H<=0)break;let I=r(q.start,q.end,!0,!0);I.length>H&&(I=f(I,H)),I&&(L.push(I),N-=I.length+O.length)}return L.length?L.join(" "):i()}function To(t,e,n){let l,i,s,o,a,m={},g={},r=[],f=[],c=[],u=[],p=[],y=!1,w=!1,E="",k="",S=[],v=[],D=[],_=!0,A=!1,N=null,L=1,U=1,q=1,O=!1;const H=new Map;let I="",M=!1,F=null,Z,V=!1;const W=new Map;let le=null,B=null,de;nn(async()=>(de=Date.now(),O?(n(11,_=!1),n(13,N=null),await G()):await Ce(),()=>{if(window.umami&&de){const C=Math.round((Date.now()-de)/1e3);window.umami.track("database-time-spent",{seconds:C,minutes:Math.round(C/60)})}}));async function Ce(){if(!O){n(11,_=!0),n(13,N=null);try{await Promise.all([ge(),me()]),n(5,u=[]),n(6,p=[]),n(2,I=""),await G(),O=!0}catch(C){console.error(C),n(13,N=C.message)}finally{n(11,_=!1)}}}async function ge(){const C=await fetch(bo);if(!C.ok)throw new Error(`Failed to load month index: ${C.status}`);m=await C.json();const z=Object.keys(m);n(4,c=Array.isArray(m[Ye])?m[Ye]:[]),n(32,r=z.filter(K=>K!==Ye).sort().reverse()),S=[];for(const K of r){const se=m[K];Array.isArray(se)&&S.push(...se)}c.length>0&&S.push(...c)}async function me(){const C=await fetch(ko);if(!C.ok)throw new Error(`Failed to load institution index: ${C.status}`);g=await C.json(),n(33,f=Object.keys(g).filter(z=>z!==Co).sort((z,K)=>z.localeCompare(K)))}function Xe(){let C=[];if(u.length===0)C=S;else{const K=new Set(u),se=r.filter(We=>K.has(We));for(const We of se){const Oe=m[We];Array.isArray(Oe)&&C.push(...Oe)}K.has(Ye)&&c.length&&C.push(...c)}if(p.length===0)return C;const z=new Set;for(const K of p){const se=g[K];Array.isArray(se)&&se.forEach(We=>z.add(We))}return z.size===0?[]:C.filter(K=>z.has(K))}async function Y(C){if(!C)return null;if(W.has(C))return W.get(C);n(17,M=!0),n(18,F=null);try{const z=await fetch(`${Mo}/${C}.json`);if(!z.ok)throw new Error(`Failed to load search index shard '${C}': ${z.status}`);const K=await z.json();return W.set(C,K),K}catch(z){return console.error(z),n(18,F=z.message),null}finally{n(17,M=!1)}}async function G(){const C=Xe(),z=new Set(C),K=ni(I),se=K?Wt(K):[];if(K&&se.length>1){n(17,M=!0),n(18,F=null);try{const oe=await qe(),fe=new RegExp(Vn(K),"i"),Le=[];for(const Pe of C){let he;try{he=await He(Pe,oe)}catch(Ee){console.error(Ee);continue}[he==null?void 0:he.title,he==null?void 0:he.org,he==null?void 0:he.content].some(Ee=>typeof Ee=="string"&&fe.test(Ee))&&Le.push(Pe)}n(9,v=Le),n(14,L=1),await ce(1)}catch(oe){console.error(oe),n(18,F=oe.message),n(9,v=[]),n(14,L=1),await ce(1)}finally{n(17,M=!1)}return}const Oe=Wt(I);if(Oe.length===0){n(9,v=C),n(14,L=1),await ce(1);return}const we=Array.from(new Set(Oe.map(oe=>ti(oe)).filter(oe=>oe!==null)));if(we.length===0){n(9,v=[]),n(14,L=1),await ce(1);return}const je=new Map;for(const oe of we){const fe=await Y(oe);fe&&je.set(oe,fe)}if(je.size===0){n(9,v=[]),n(14,L=1),await ce(1);return}const ne=new Map;for(const oe of Oe){const fe=ti(oe);if(!fe)continue;const Le=je.get(fe);if(!Le)continue;const Pe=Le[oe];if(Array.isArray(Pe))for(const he of Pe){if(!z.has(he))continue;const X=ne.get(he)||0;ne.set(he,X+1)}}if(ne.size===0){n(9,v=[]),n(14,L=1),await ce(1);return}const re=new Map;for(const oe of C){const fe=ne.get(oe);fe&&(re.has(fe)||re.set(fe,[]),re.get(fe).push(oe))}if(re.size===0){n(9,v=[]),n(14,L=1),await ce(1);return}const Vt=[...re.keys()].sort((oe,fe)=>fe-oe),rt=[];for(const oe of Vt)rt.push(...re.get(oe));n(9,v=rt),n(14,L=1),await ce(1)}async function ve(C){if(H.has(C))return H.get(C);const z=await fetch(`${So}/${C}.json`);if(!z.ok)throw new Error(`Failed to load article ${C}: ${z.status}`);const K=await z.json();return H.set(C,K),K}async function ce(C){const z=v;if(!z||z.length===0){n(10,D=[]),n(14,L=1),n(15,U=1),n(16,q=1);return}const K=Math.max(1,Math.ceil(z.length/_n));C<1&&(C=1),C>K&&(C=K),n(14,L=C),n(15,U=K),n(16,q=L);const se=(L-1)*_n,We=se+_n,Oe=z.slice(se,We);n(12,A=!0),n(13,N=null);try{const we=Oe.map(je=>ve(je));n(10,D=await Promise.all(we))}catch(we){console.error(we),n(13,N=we.message)}finally{n(12,A=!1)}}async function _e(C,z){z?u.includes(C)||n(5,u=[...u,C]):n(5,u=u.filter(K=>K!==C)),window.umami&&window.umami.track("filter-month",{action:z?"add":"remove",month:C,total_selected:u.length}),n(14,L=1),await G()}async function ie(C,z){z?p.includes(C)||n(6,p=[...p,C]):n(6,p=p.filter(K=>K!==C)),window.umami&&window.umami.track("filter-institution",{action:z?"add":"remove",institution:C,total_selected:p.length}),n(14,L=1),await G()}async function $(){n(5,u=[]),n(14,L=1),await G()}async function x(){n(6,p=[]),n(14,L=1),await G()}function Ae(C){n(2,I=C.target.value),Z&&clearTimeout(Z),Z=setTimeout(()=>{window.umami&&I.trim().length>0&&window.umami.track("search-query",{query_length:I.trim().length,has_quotes:I.includes('"'),has_filters:u.length>0||p.length>0}),G()},1e3)}const Te=()=>u.length===0&&p.length===0&&!I.trim();async function ue(){if(le)return le;const C=await fetch(Eo);if(!C.ok)throw new Error(`Failed to load full dataset: ${C.status}`);return le=await C.json(),le}async function qe(){if(B)return B;const C=await ue(),z=new Map;return Array.isArray(C)&&C.forEach(K=>{const se=Uo(K);se&&z.set(se,K)}),B=z,B}async function He(C,z){if(H.has(C))return H.get(C);if(z&&z.has(C)){const se=z.get(C);return H.set(C,se),se}return await ve(C)}async function Re(){if(!v||v.length===0){alert("No data to export");return}n(19,V=!0);try{let C;if(Te())C=await ue();else{C=[];for(const K of v){const se=await ve(K);C.push(se)}}const z=No(C);await Ke(z)}catch(C){console.error(C),alert("Error exporting data: "+C.message)}finally{n(19,V=!1)}}async function Ke(C){if(!C.length){alert("No data to export");return}const z=new Set;C.forEach(ne=>{Object.keys(ne).forEach(re=>z.add(re))});const K=Array.from(z);function se(ne){if(ne==null)return"";if(typeof ne=="object")return ne.$oid?ne.$oid:ne.$date?new Date(ne.$date).toISOString():JSON.stringify(ne).replace(/"/g,'""');const re=String(ne);return re.includes(",")||re.includes('"')||re.includes(`
`)?`"${re.replace(/"/g,'""')}"`:re}const We=[K.join(","),...C.map(ne=>K.map(re=>se(ne[re])).join(","))].join(`
`),Oe=new Blob([We],{type:"text/csv;charset=utf-8;"}),we=document.createElement("a"),je=URL.createObjectURL(Oe);we.setAttribute("href",je),we.setAttribute("download",`university_responses_filtered_${new Date().toISOString().split("T")[0]}.csv`),window.umami&&window.umami.track("csv-download",{items_count:C.length,has_filters:!Te(),has_search:I.length>0,selected_months:u.length,selected_institutions:p.length}),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(je)}nn(()=>{const C=z=>{z.target.closest(".multi-select-dropdown")||(n(7,y=!1),n(8,w=!1))};return document.addEventListener("click",C),()=>document.removeEventListener("click",C)});function ke(C){C<1||C>U||A||ce(C)}function Me(C){Zn.call(this,t,C)}function J(C){Zn.call(this,t,C)}const be=()=>{n(7,y=!y),n(8,w=!1)};function ht(){E=this.value,n(0,E)}const dt=(C,z)=>ie(C,z.target.checked),Ct=()=>{n(8,w=!w),n(7,y=!1)};function Yt(){k=this.value,n(1,k)}const Bt=(C,z)=>_e(C,z.target.checked),et=C=>_e(Ye,C.target.checked);function tt(){I=this.value,n(2,I)}const qt=()=>ke(1),Gt=()=>ke(L-1);function pt(){q=ri(this.value),n(16,q)}const gt=C=>{const z=Number(C.currentTarget.value);Number.isNaN(z)||ke(z)},Ut=()=>{const C=Number(q);Number.isNaN(C)||ke(C)},Jt=()=>ke(L+1),Nt=()=>ke(U);return t.$$.update=()=>{t.$$.dirty[0]&4&&n(3,l=ni(I)),t.$$.dirty[0]&8&&n(23,i=!!l),t.$$.dirty[0]&1|t.$$.dirty[1]&4&&n(22,s=E?f.filter(C=>C.toLowerCase().includes(E.toLowerCase())):f),t.$$.dirty[0]&2|t.$$.dirty[1]&2&&n(21,o=k?r.filter(C=>{const z=zt(C).toLowerCase(),K=k.toLowerCase();return z.includes(K)||C.toLowerCase().includes(K)}):r),t.$$.dirty[0]&2&&n(20,a=k.trim()===""?!0:"no date".includes(k.toLowerCase()))},[E,k,I,l,c,u,p,y,w,v,D,_,A,N,L,U,q,M,F,V,a,o,s,i,Ce,_e,ie,$,x,Ae,Re,ke,r,f,Me,J,be,ht,dt,Ct,Yt,Bt,et,tt,qt,Gt,pt,gt,Ut,Jt,Nt]}class Lo extends Yn{constructor(e){super(),zn(this,e,To,yo,Fn,{},null,[-1,-1,-1])}}function Po(t){let e,n;return e=new Lo({}),{c(){ci(e.$$.fragment)},m(l,i){Hn(e,l,i),n=!0},i(l){n||(jt(e.$$.fragment,l),n=!0)},o(l){ln(e.$$.fragment,l),n=!1},d(l){Wn(e,l)}}}function Io(t){let e,n;return e=new Zs({}),{c(){ci(e.$$.fragment)},m(l,i){Hn(e,l,i),n=!0},i(l){n||(jt(e.$$.fragment,l),n=!0)},o(l){ln(e.$$.fragment,l),n=!1},d(l){Wn(e,l)}}}function Do(t){let e,n,l,i,s,o,a,m,g,r,f,c,u,p,y,w,E,k,S,v;const D=[Io,Po],_=[];function A(N,L){return N[0]==="methodology"?0:1}return p=A(t),y=_[p]=D[p](t),{c(){e=b("main"),n=b("header"),l=b("div"),i=b("div"),i.innerHTML='<a href="https://towcenter.columbia.edu/" target="_blank" rel="noopener noreferrer" class="logo-link svelte-j0e2a4"><img src="/tow.png" alt="Tow Center for Digital Journalism" class="logo svelte-j0e2a4"/></a>',s=j(),o=b("div"),o.innerHTML='<h1 class="svelte-j0e2a4">University Response Tracker</h1> <p class="tagline svelte-j0e2a4">Monitoring institutional responses to campus protests and federal actions</p>',a=j(),m=b("nav"),g=b("button"),g.textContent="Database",r=j(),f=b("button"),f.textContent="Methodology",c=j(),u=b("div"),y.c(),w=j(),E=b("footer"),E.innerHTML=`<div class="container svelte-j0e2a4"><p class="svelte-j0e2a4">A project by the Tow Center for Digital Journalism at Columbia University</p> <p class="footer-links svelte-j0e2a4"><a href="https://www.cjr.org/" target="_blank" rel="noopener noreferrer" class="svelte-j0e2a4">Columbia Journalism Review</a> • 
        <a href="https://towcenter.columbia.edu/" target="_blank" rel="noopener noreferrer" class="svelte-j0e2a4">Tow Center</a></p></div>`,h(i,"class","header-top svelte-j0e2a4"),h(o,"class","header-content svelte-j0e2a4"),h(g,"class","svelte-j0e2a4"),wt(g,"active",t[0]==="database"),h(f,"class","svelte-j0e2a4"),wt(f,"active",t[0]==="methodology"),h(m,"class","svelte-j0e2a4"),h(l,"class","container svelte-j0e2a4"),h(n,"class","svelte-j0e2a4"),h(u,"class","page-content svelte-j0e2a4"),h(E,"class","svelte-j0e2a4"),h(e,"class","svelte-j0e2a4")},m(N,L){P(N,e,L),d(e,n),d(n,l),d(l,i),d(l,s),d(l,o),d(l,a),d(l,m),d(m,g),d(m,r),d(m,f),d(e,c),d(e,u),_[p].m(u,null),d(e,w),d(e,E),k=!0,S||(v=[ae(g,"click",t[2]),ae(f,"click",t[3])],S=!0)},p(N,[L]){(!k||L&1)&&wt(g,"active",N[0]==="database"),(!k||L&1)&&wt(f,"active",N[0]==="methodology");let U=p;p=A(N),p!==U&&(Hi(),ln(_[U],1,1,()=>{_[U]=null}),Wi(),y=_[p],y||(y=_[p]=D[p](N),y.c()),jt(y,1),y.m(u,null))},i(N){k||(jt(y),k=!0)},o(N){ln(y),k=!1},d(N){N&&T(e),_[p].d(),S=!1,Ve(v)}}}function Ao(t,e,n){let l="database";nn(()=>{window.location.pathname.includes("methodology")&&n(0,l="methodology"),window.umami&&window.umami.track()});function i(a){n(0,l=a);const m={database:"/",methodology:"/methodology"};window.history.pushState({},"",m[a]),window.umami&&window.umami.track(g=>({...g,url:m[a],title:a==="database"?"Database":"Methodology"}))}return[l,i,()=>i("database"),()=>i("methodology")]}class Ro extends Yn{constructor(e){super(),zn(this,e,Ao,Do,Fn,{})}}new Ro({target:document.body});
